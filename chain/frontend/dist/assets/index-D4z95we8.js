(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Er={id:43113,name:"Fuji C-Chain",nativeCurrency:{name:"Avalanche Fuji",symbol:"AVAX",decimals:18},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959},teleporterMessenger:{address:"0x253b2784c75e510dD0fF1da844684a1aC0aa5fcf"}},testnet:!0},Cc="1.0.8";let ue=class $r extends Error{constructor(t,n={}){const r=n.cause instanceof $r?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof $r&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Cc}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function ze(e,t){return e.exec(t)?.groups}const Go=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Vo=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Zo=/^\(.+?\).*?$/,Us=/^tuple(?<array>(\[(\d*)\])*)$/;function Pr(e){let t=e.type;if(Us.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Pr(o),s<n-1&&(t+=", ")}const r=ze(Us,e.type);return t+=`)${r?.array??""}`,Pr({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ot(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Pr(s),r!==n-1&&(t+=", ")}return t}function Bn(e){return e.type==="function"?`function ${e.name}(${Ot(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Ot(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Ot(e.inputs)})`:e.type==="error"?`error ${e.name}(${Ot(e.inputs)})`:e.type==="constructor"?`constructor(${Ot(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Wo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Nc(e){return Wo.test(e)}function Oc(e){return ze(Wo,e)}const Ko=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Rc(e){return Ko.test(e)}function _c(e){return ze(Ko,e)}const Yo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Mc(e){return Yo.test(e)}function Fc(e){return ze(Yo,e)}const Xo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function ts(e){return Xo.test(e)}function zc(e){return ze(Xo,e)}const Jo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Lc(e){return Jo.test(e)}function Uc(e){return ze(Jo,e)}const Qo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function jc(e){return Qo.test(e)}function Dc(e){return ze(Qo,e)}const qc=/^receive\(\) external payable$/;function Hc(e){return qc.test(e)}const Gc=new Set(["indexed"]),Ar=new Set(["calldata","memory","storage"]);class Vc extends ue{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Zc extends ue{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Wc extends ue{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Kc extends ue{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Yc extends ue{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Xc extends ue{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Jc extends ue{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Qc extends ue{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class At extends ue{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class eu extends ue{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class tu extends ue{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class nu extends ue{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class ru extends ue{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function su(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const tr=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Br(e,t={}){if(Mc(e))return ou(e,t);if(Rc(e))return iu(e,t);if(Nc(e))return au(e,t);if(Lc(e))return cu(e,t);if(jc(e))return uu(e);if(Hc(e))return{type:"receive",stateMutability:"payable"};throw new eu({signature:e})}function ou(e,t={}){const n=Fc(e);if(!n)throw new At({signature:e,type:"function"});const r=ye(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Xe(r[a],{modifiers:Ar,structs:t,type:"function"}));const i=[];if(n.returns){const a=ye(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Xe(a[u],{modifiers:Ar,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function iu(e,t={}){const n=_c(e);if(!n)throw new At({signature:e,type:"event"});const r=ye(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Xe(r[i],{modifiers:Gc,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function au(e,t={}){const n=Oc(e);if(!n)throw new At({signature:e,type:"error"});const r=ye(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Xe(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function cu(e,t={}){const n=Uc(e);if(!n)throw new At({signature:e,type:"constructor"});const r=ye(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Xe(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function uu(e){const t=Dc(e);if(!t)throw new At({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const fu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,du=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,lu=/^u?int$/;function Xe(e,t){const n=su(e,t?.type,t?.structs);if(tr.has(n))return tr.get(n);const r=Zo.test(e),s=ze(r?du:fu,e);if(!s)throw new Kc({param:e});if(s.name&&hu(s.name))throw new Yc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const l=ye(s.type),f=[],p=l.length;for(let h=0;h<p;h++)f.push(Xe(l[h],{structs:a}));u={components:f}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(lu.test(s.type))c=`${s.type}256`;else if(c=s.type,t?.type!=="struct"&&!ei(c))throw new Wc({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new Xc({param:e,type:t?.type,modifier:s.modifier});if(Ar.has(s.modifier)&&!bu(c,!!s.array))throw new Jc({param:e,type:t?.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...o,...i,...u};return tr.set(n,d),d}function ye(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ye(a,[...t,n.trim()]):ye(a,t,`${n}${i}`,r);case"(":return ye(a,t,`${n}${i}`,r+1);case")":return ye(a,t,`${n}${i}`,r-1);default:return ye(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new ru({current:n,depth:r});return t.push(n.trim()),t}function ei(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Go.test(e)||Vo.test(e)}const pu=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function hu(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Go.test(e)||Vo.test(e)||pu.test(e)}function bu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function ti(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!ts(a))continue;const c=zc(a);if(!c)throw new At({signature:a,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let f=0;f<l;f++){const h=u[f].trim();if(!h)continue;const b=Xe(h,{type:"struct"});d.push(b)}if(!d.length)throw new tu({signature:a});t[c.name]=d}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=ni(c,t)}return r}const mu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ni(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Zo.test(i.type))r.push(i);else{const c=ze(mu,i.type);if(!c?.type)throw new Qc({abiParameter:i});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new nu({type:d});r.push({...i,type:`tuple${u??""}`,components:ni(t[d]??[],t,new Set([...n,d]))})}else if(ei(d))r.push(i);else throw new Zc({type:d})}}return r}function ri(e){const t=ti(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];ts(o)||n.push(Br(o,t))}return n}function js(e){let t;if(typeof e=="string")t=Br(e);else{const n=ti(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!ts(o)){t=Br(o,n);break}}}if(!t)throw new Vc({signature:e});return t}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}function ge(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Su(e.type);return`${e.name}(${_n(e.inputs,{includeName:t})})`}function _n(e,{includeName:t=!1}={}){return e?e.map(n=>yu(n,{includeName:t})).join(t?", ":","):""}function yu(e,{includeName:t}){return e.type.startsWith("tuple")?`(${_n(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ae(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function Z(e){return Ae(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const si="2.36.0";let nr={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${si}`},v=class Tr extends Error{constructor(t,n={}){const r=n.cause instanceof Tr?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Tr&&n.cause.docsPath||n.docsPath,o=nr.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...nr.version?[`Version: ${nr.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=si}walk(t){return oi(this,t)}};function oi(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?oi(e.cause,t):t?null:e}class gu extends v{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ds extends v{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ii extends v{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${_n(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class on extends v{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class wu extends v{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class xu extends v{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class vu extends v{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Eu extends v{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class qs extends v{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class ai extends v{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class $u extends v{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class ci extends v{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Hs extends v{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class mt extends v{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class ui extends v{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Pu extends v{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Au extends v{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ge(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ge(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Bu=class extends v{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class zt extends v{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${_n(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Mn extends v{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ge(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Tu extends v{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Iu extends v{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let fi=class extends v{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Su extends v{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class ku extends v{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let di=class extends v{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},li=class extends v{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Gs extends v{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Bt(e,{dir:t,size:n=32}={}){return typeof e=="string"?De(e,{dir:t,size:n}):Cu(e,{dir:t,size:n})}function De(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new li({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Cu(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new li({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let pi=class extends v{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Nu extends v{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Ou extends v{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Ru=class extends v{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function qe(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ve(e,{size:t}){if(Z(e)>t)throw new Ru({givenSize:Z(e),maxSize:t})}function ce(e,t={}){const{signed:n}=t;t.size&&ve(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function _u(e,t={}){let n=e;if(t.size&&(ve(n,{size:t.size}),n=qe(n)),qe(n)==="0x00")return!1;if(qe(n)==="0x01")return!0;throw new Ou(n)}function we(e,t={}){return Number(ce(e,t))}const Mu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Oe(e,t={}){return typeof e=="number"||typeof e=="bigint"?O(e,t):typeof e=="string"?yt(e,t):typeof e=="boolean"?hi(e,t):J(e,t)}function hi(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ve(n,{size:t.size}),Bt(n,{size:t.size})):n}function J(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Mu[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ve(r,{size:t.size}),Bt(r,{dir:"right",size:t.size})):r}function O(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new pi({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Bt(a,{size:r}):a}const Fu=new TextEncoder;function yt(e,t={}){const n=Fu.encode(e);return J(n,t)}const zu=new TextEncoder;function Tt(e,t={}){return typeof e=="number"||typeof e=="bigint"?Uu(e,t):typeof e=="boolean"?Lu(e,t):Ae(e)?xe(e,t):Ye(e,t)}function Lu(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ve(n,{size:t.size}),Bt(n,{size:t.size})):n}const Te={zero:48,nine:57,A:65,F:70,a:97,f:102};function Vs(e){if(e>=Te.zero&&e<=Te.nine)return e-Te.zero;if(e>=Te.A&&e<=Te.F)return e-(Te.A-10);if(e>=Te.a&&e<=Te.f)return e-(Te.a-10)}function xe(e,t={}){let n=e;t.size&&(ve(n,{size:t.size}),n=Bt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const c=Vs(r.charCodeAt(a++)),u=Vs(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new v(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=c*16+u}return o}function Uu(e,t){const n=O(e,t);return xe(n)}function Ye(e,t={}){const n=zu.encode(e);return typeof t.size=="number"?(ve(n,{size:t.size}),Bt(n,{dir:"right",size:t.size})):n}const yn=BigInt(2**32-1),Zs=BigInt(32);function ju(e,t=!1){return t?{h:Number(e&yn),l:Number(e>>Zs&yn)}:{h:Number(e>>Zs&yn)|0,l:Number(e&yn)|0}}function Du(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=ju(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const qu=(e,t,n)=>e<<n|t>>>32-n,Hu=(e,t,n)=>t<<n|e>>>32-n,Gu=(e,t,n)=>t<<n-32|e>>>64-n,Vu=(e,t,n)=>e<<n-32|t>>>64-n,at=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fn(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Lt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Re(e,...t){if(!Fn(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function bi(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Lt(e.outputLen),Lt(e.blockLen)}function gt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mi(e,t){Re(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Zu(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function wt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function rr(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ee(e,t){return e<<32-t|e>>>t}const Wu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ku(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Yu(e){for(let t=0;t<e.length;t++)e[t]=Ku(e[t]);return e}const Ws=Wu?e=>e:Yu,yi=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Xu=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function lt(e){if(Re(e),yi)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Xu[e[n]];return t}const Ie={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ks(e){if(e>=Ie._0&&e<=Ie._9)return e-Ie._0;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function Tn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(yi)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Ks(e.charCodeAt(o)),a=Ks(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Ju(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function zn(e){return typeof e=="string"&&(e=Ju(e)),Re(e),e}function je(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Re(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}let ns=class{};function gi(e){const t=r=>e().update(zn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function wi(e=32){if(at&&typeof at.getRandomValues=="function")return at.getRandomValues(new Uint8Array(e));if(at&&typeof at.randomBytes=="function")return Uint8Array.from(at.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Qu=BigInt(0),Rt=BigInt(1),e0=BigInt(2),t0=BigInt(7),n0=BigInt(256),r0=BigInt(113),xi=[],vi=[],Ei=[];for(let e=0,t=Rt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],xi.push(2*(5*r+n)),vi.push((e+1)*(e+2)/2%64);let s=Qu;for(let o=0;o<7;o++)t=(t<<Rt^(t>>t0)*r0)%n0,t&e0&&(s^=Rt<<(Rt<<BigInt(o))-Rt);Ei.push(s)}const $i=Du(Ei,!0),s0=$i[0],o0=$i[1],Ys=(e,t,n)=>n>32?Gu(e,t,n):qu(e,t,n),Xs=(e,t,n)=>n>32?Vu(e,t,n):Hu(e,t,n);function i0(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=Ys(u,d,1)^n[a],f=Xs(u,d,1)^n[a+1];for(let p=0;p<50;p+=10)e[i+p]^=l,e[i+p+1]^=f}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=vi[i],c=Ys(s,o,a),u=Xs(s,o,a),d=xi[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=s0[r],e[1]^=o0[r]}wt(n)}let a0=class Pi extends ns{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Lt(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Zu(this.state)}clone(){return this._cloneInto()}keccak(){Ws(this.state32),i0(this.state32,this.rounds),Ws(this.state32),this.posOut=0,this.pos=0}update(t){gt(this),t=zn(t),Re(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){gt(this,!1),Re(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Lt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(mi(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,wt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Pi(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const c0=(e,t,n)=>gi(()=>new a0(t,e,n)),u0=c0(1,136,256/8);function Q(e,t){const n=t||"hex",r=u0(Ae(e,{strict:!1})?Tt(e):e);return n==="bytes"?r:Oe(r)}const f0=e=>Q(Tt(e));function d0(e){return f0(e)}function l0(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new v("Unable to normalize signature.");return s}const p0=e=>{const t=typeof e=="string"?e:Bn(e);return l0(t)};function Ai(e){return d0(p0(e))}const Ln=Ai;let He=class extends v{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Un=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const sr=new Un(8192);function an(e,t){if(sr.has(`${e}.${t}`))return sr.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=Q(Ye(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return sr.set(`${e}.${t}`,o),o}function Bi(e,t){if(!le(e,{strict:!1}))throw new He({address:e});return an(e,t)}const h0=/^0x[a-fA-F0-9]{40}$/,or=new Un(8192);function le(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(or.has(r))return or.get(r);const s=h0.test(e)?e.toLowerCase()===e?!0:n?an(e)===e:!0:!1;return or.set(r,s),s}function pe(e){return typeof e[0]=="string"?It(e):b0(e)}function b0(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function It(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function xt(e,t,n,{strict:r}={}){return Ae(e,{strict:!1})?In(e,t,n,{strict:r}):Si(e,t,n,{strict:r})}function Ti(e,t){if(typeof t=="number"&&t>0&&t>Z(e)-1)throw new di({offset:t,position:"start",size:Z(e)})}function Ii(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Z(e)!==n-t)throw new di({offset:n,position:"end",size:Z(e)})}function Si(e,t,n,{strict:r}={}){Ti(e,t);const s=e.slice(t,n);return r&&Ii(s,t,n),s}function In(e,t,n,{strict:r}={}){Ti(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Ii(s,t,n),s}const m0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ki=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ge(e,t){if(e.length!==t.length)throw new vu({expectedLength:e.length,givenLength:t.length});const n=y0({params:e,values:t}),r=ss(n);return r.length===0?"0x":r}function y0({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(rs({param:e[r],value:t[r]}));return n}function rs({param:e,value:t}){const n=os(e.type);if(n){const[r,s]=n;return w0(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return P0(t,{param:e});if(e.type==="address")return g0(t);if(e.type==="bool")return v0(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=ki.exec(e.type)??[];return E0(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return x0(t,{param:e});if(e.type==="string")return $0(t);throw new Tu(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ss(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Z(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(O(t+s,{size:32})),r.push(a),s+=Z(a)):n.push(a)}return pe([...n,...r])}function g0(e){if(!le(e))throw new He({address:e});return{dynamic:!1,encoded:De(e.toLowerCase())}}function w0(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new fi(e);if(!r&&e.length!==t)throw new wu({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=rs({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=ss(o);if(r){const a=O(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?pe([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:pe(o.map(({encoded:i})=>i))}}function x0(e,{param:t}){const[,n]=t.type.split("bytes"),r=Z(e);if(!n){let s=e;return r%32!==0&&(s=De(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:pe([De(O(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new xu({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:De(e,{dir:"right"})}}function v0(e){if(typeof e!="boolean")throw new v(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:De(hi(e))}}function E0(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new pi({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:O(e,{size:32,signed:t})}}function $0(e){const t=yt(e),n=Math.ceil(Z(t)/32),r=[];for(let s=0;s<n;s++)r.push(De(xt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:pe([De(O(Z(t),{size:32})),...r])}}function P0(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=rs({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?ss(r):pe(r.map(({encoded:s})=>s))}}function os(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const cn=e=>xt(Ai(e),0,4);function rt(e){const{abi:t,args:n=[],name:r}=e,s=Ae(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?cn(a)===r:a.type==="event"?Ln(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in a&&a.inputs[d];return l?Ir(u,l):!1})){if(i&&"inputs"in i&&i.inputs){const u=Ci(a.inputs,i.inputs,n);if(u)throw new Au({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Ir(e,t){const n=typeof e,r=t.type;switch(r){case"address":return le(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Ir(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ir(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ci(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ci(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?le(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?le(n[r],{strict:!1}):!1)return i}}const Js="/docs/contract/encodeEventTopics";function un(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=rt({abi:t,name:n});if(!c)throw new Hs(n,{docsPath:Js});s=c}if(s.type!=="event")throw new Hs(void 0,{docsPath:Js});const o=ge(s),i=Ln(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(d=>r[d.name])??[]:[];u.length>0&&(a=c?.map((d,l)=>Array.isArray(u[l])?u[l].map((f,p)=>Qs({param:d,value:u[l][p]})):typeof u[l]<"u"&&u[l]!==null?Qs({param:d,value:u[l]}):null)??[])}return[i,...a]}function Qs({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Q(Tt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ku(e.type);return Ge([e],[t])}function jn(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function Ni(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=jn(e,{method:"eth_newFilter"}),d=o?un({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?O(i):i,toBlock:typeof c=="bigint"?O(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!a,type:"event"}}function K(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const eo="/docs/contract/encodeFunctionData";function A0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=rt({abi:t,args:n,name:r});if(!o)throw new mt(r,{docsPath:eo});s=o}if(s.type!=="function")throw new mt(void 0,{docsPath:eo});return{abi:[s],functionName:cn(ge(s))}}function be(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:A0(e),s=n[0],o=r,i="inputs"in s&&s.inputs?Ge(s.inputs,t??[]):void 0;return It([o,i??"0x"])}const B0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Oi={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},T0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class to extends v{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Ri extends v{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class I0 extends v{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const S0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new I0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ri({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new to({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new to({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function is(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(S0);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function k0(e,t={}){typeof t.size<"u"&&ve(e,{size:t.size});const n=J(e,t);return ce(n,t)}function C0(e,t={}){let n=e;if(typeof t.size<"u"&&(ve(n,{size:t.size}),n=qe(n)),n.length>1||n[0]>1)throw new Nu(n);return!!n[0]}function Ne(e,t={}){typeof t.size<"u"&&ve(e,{size:t.size});const n=J(e,t);return we(n,t)}function N0(e,t={}){let n=e;return typeof t.size<"u"&&(ve(n,{size:t.size}),n=qe(n,{dir:"right"})),new TextDecoder().decode(n)}function fn(e,t){const n=typeof t=="string"?xe(t):t,r=is(n);if(Z(n)===0&&e.length>0)throw new on;if(Z(t)&&Z(t)<32)throw new ii({data:typeof t=="string"?t:J(t),params:e,size:Z(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=pt(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function pt(e,t,{staticPosition:n}){const r=os(t.type);if(r){const[s,o]=r;return R0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return z0(e,t,{staticPosition:n});if(t.type==="address")return O0(e);if(t.type==="bool")return _0(e);if(t.type.startsWith("bytes"))return M0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return F0(e,t);if(t.type==="string")return L0(e,{staticPosition:n});throw new Iu(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const no=32,Sr=32;function O0(e){const t=e.readBytes(32);return[an(J(Si(t,-20))),32]}function R0(e,t,{length:n,staticPosition:r}){if(!n){const i=Ne(e.readBytes(Sr)),a=r+i,c=a+no;e.setPosition(a);const u=Ne(e.readBytes(no)),d=Ut(t);let l=0;const f=[];for(let p=0;p<u;++p){e.setPosition(c+(d?p*32:l));const[h,b]=pt(e,t,{staticPosition:c});l+=b,f.push(h)}return e.setPosition(r+32),[f,32]}if(Ut(t)){const i=Ne(e.readBytes(Sr)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[d]=pt(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=pt(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function _0(e){return[C0(e.readBytes(32),{size:32}),32]}function M0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ne(e.readBytes(32));e.setPosition(n+i);const a=Ne(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[J(c),32]}return[J(e.readBytes(Number.parseInt(s,10),32)),32]}function F0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?k0(s,{signed:n}):Ne(s,{signed:n}),32]}function z0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(Ut(t)){const i=Ne(e.readBytes(Sr)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[d,l]=pt(e,u,{staticPosition:a});o+=l,s[r?c:u?.name]=d}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=pt(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function L0(e,{staticPosition:t}){const n=Ne(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ne(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=N0(qe(o));return e.setPosition(t+32),[i,32]}function Ut(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Ut);const n=os(e.type);return!!(n&&Ut({...e,type:n[1]}))}function U0(e){const{abi:t,data:n}=e,r=xt(n,0,4);if(r==="0x")throw new on;const o=[...t||[],Oi,T0].find(i=>i.type==="error"&&r===cn(ge(i)));if(!o)throw new ai(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?fn(o.inputs,xt(n,4)):void 0,errorName:o.name}}const X=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function _i({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?X(t[o]):t[o]}`).join(", ")})`}const j0={gwei:9,wei:18},D0={ether:-9,wei:9};function Mi(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function as(e,t="wei"){return Mi(e,j0[t])}function ie(e,t="wei"){return Mi(e,D0[t])}class q0 extends v{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class H0 extends v{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ro(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function G0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ro(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ro(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function dn(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class V0 extends v{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Z0 extends v{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",dn(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class W0 extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){const p=dn({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:l,value:typeof f<"u"&&`${as(f)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ie(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ie(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ie(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Fi extends v{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class zi extends v{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class K0 extends v{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Y0=e=>e,cs=e=>e;class Li extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f,stateOverride:p}){const h=n?K(n):void 0;let b=dn({from:h?.address,to:l,value:typeof f<"u"&&`${as(f)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ie(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ie(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ie(u)} gwei`,nonce:d});p&&(b+=`
${G0(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class X0 extends v{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=rt({abi:n,args:r,name:i}),u=c?_i({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?ge(c,{includeName:!0}):void 0,l=dn({address:s&&Y0(s),function:d,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class kr extends v{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=U0({abi:t,data:n});const{abiItem:d,errorName:l,args:f}=i;if(l==="Error")c=f[0];else if(l==="Panic"){const[p]=f;c=B0[p]}else{const p=d?ge(d,{includeName:!0}):void 0,h=d&&f?_i({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array(l?.length??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof ai&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class J0 extends v{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Q0 extends v{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Dn extends v{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Ft extends v{constructor({body:t,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${cs(i)}`,t&&`Request body: ${X(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}}class us extends v{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${cs(r)}`,`Request body: ${X(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class so extends v{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${cs(n)}`,`Request body: ${X(t)}`],name:"TimeoutError"})}}const ef=-1;class ae extends v{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof us?t.code:n??ef}}class fe extends ae{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class jt extends ae{constructor(t){super(t,{code:jt.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Dt extends ae{constructor(t){super(t,{code:Dt.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Dt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class qt extends ae{constructor(t,{method:n}={}){super(t,{code:qt.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ht extends ae{constructor(t){super(t,{code:Ht.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Je extends ae{constructor(t){super(t,{code:Je.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Qe extends ae{constructor(t){super(t,{code:Qe.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Gt extends ae{constructor(t){super(t,{code:Gt.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Gt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Vt extends ae{constructor(t){super(t,{code:Vt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Zt extends ae{constructor(t){super(t,{code:Zt.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ve extends ae{constructor(t,{method:n}={}){super(t,{code:Ve.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class vt extends ae{constructor(t){super(t,{code:vt.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Wt extends ae{constructor(t){super(t,{code:Wt.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ht extends fe{constructor(t){super(t,{code:ht.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Kt extends fe{constructor(t){super(t,{code:Kt.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Yt extends fe{constructor(t,{method:n}={}){super(t,{code:Yt.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Xt extends fe{constructor(t){super(t,{code:Xt.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Jt extends fe{constructor(t){super(t,{code:Jt.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Qt extends fe{constructor(t){super(t,{code:Qt.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Et extends fe{constructor(t){super(t,{code:Et.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class en extends fe{constructor(t){super(t,{code:en.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class tn extends fe{constructor(t){super(t,{code:tn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class nn extends fe{constructor(t){super(t,{code:nn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class rn extends fe{constructor(t){super(t,{code:rn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class sn extends fe{constructor(t){super(t,{code:sn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class $t extends fe{constructor(t){super(t,{code:$t.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class tf extends ae{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const nf=3;function et(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Dn?e:e instanceof v?e.walk(h=>"data"in h)||e.walk():{},{code:c,data:u,details:d,message:l,shortMessage:f}=a,p=e instanceof on?new J0({functionName:o}):[nf,Je.code].includes(c)&&(u||d||l||f)?new kr({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof us?d:f??l}):e;return new X0(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}function rf(e){const t=Q(`0x${e.substring(4)}`).substring(26);return an(`0x${t}`)}const sf="modulepreload",of=function(e){return"/"+e},oo={},Ui=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=c(n.map(u=>{if(u=of(u),u in oo)return;oo[u]=!0;const d=u.endsWith(".css"),l=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${l}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":sf,d||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};async function af({hash:e,signature:t}){const n=Ae(e)?e:Oe(e),{secp256k1:r}=await Ui(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>hp);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:f}=t,p=Number(f??l),h=io(p);return new r.Signature(ce(u),ce(d)).addRecoveryBit(h)}const i=Ae(t)?t:Oe(t);if(Z(i)!==65)throw new Error("invalid signature length");const a=we(`0x${i.slice(130)}`),c=io(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function io(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ji({hash:e,signature:t}){return rf(await af({hash:e,signature:t}))}function cf(e,t="hex"){const n=Di(e),r=is(new Uint8Array(n.length));return n.encode(r),t==="hex"?J(r.bytes):r.bytes}function Di(e){return Array.isArray(e)?uf(e.map(t=>Di(t))):ff(e)}function uf(e){const t=e.reduce((s,o)=>s+o.length,0),n=qi(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function ff(e){const t=typeof e=="string"?xe(e):e,n=qi(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function qi(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new v("Length is too large.")}function df(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Q(It(["0x05",cf([t?O(t):"0x",s,n?O(n):"0x"])]));return r==="bytes"?xe(o):o}async function Hi(e){const{authorization:t,signature:n}=e;return ji({hash:df(t),signature:n??t})}class lf extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){const p=dn({from:n?.address,to:l,value:typeof f<"u"&&`${as(f)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${ie(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${ie(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ie(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ut extends v{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ut,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Sn extends v{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ie(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Sn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Cr extends v{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ie(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Cr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Nr extends v{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Or extends v{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Or,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Rr extends v{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Rr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class _r extends v{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(_r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Mr extends v{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Mr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Fr extends v{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Fr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class zr extends v{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(zr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class kn extends v{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ie(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ie(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(kn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ln extends v{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function qn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof v?e.walk(s=>s?.code===ut.code):e;return r instanceof v?new ut({cause:e,message:r.details}):ut.nodeMessage.test(n)?new ut({cause:e,message:e.details}):Sn.nodeMessage.test(n)?new Sn({cause:e,maxFeePerGas:t?.maxFeePerGas}):Cr.nodeMessage.test(n)?new Cr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Nr.nodeMessage.test(n)?new Nr({cause:e,nonce:t?.nonce}):Or.nodeMessage.test(n)?new Or({cause:e,nonce:t?.nonce}):Rr.nodeMessage.test(n)?new Rr({cause:e,nonce:t?.nonce}):_r.nodeMessage.test(n)?new _r({cause:e}):Mr.nodeMessage.test(n)?new Mr({cause:e,gas:t?.gas}):Fr.nodeMessage.test(n)?new Fr({cause:e,gas:t?.gas}):zr.nodeMessage.test(n)?new zr({cause:e}):kn.nodeMessage.test(n)?new kn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ln({cause:e})}function pf(e,{docsPath:t,...n}){const r=(()=>{const s=qn(e,n);return s instanceof ln?e:s})();return new lf(r,{docsPath:t,...n})}function Hn(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const hf={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function St(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=bf(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>J(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=O(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=O(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=O(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=O(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=O(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=O(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=hf[e.type]),typeof e.value<"u"&&(t.value=O(e.value)),t}function bf(e){return e.map(t=>({address:t.address,r:t.r?O(BigInt(t.r)):t.r,s:t.s?O(BigInt(t.s)):t.s,chainId:O(t.chainId),nonce:O(t.nonce),...typeof t.yParity<"u"?{yParity:O(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:O(t.v)}:{}}))}function ao(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Gs({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Gs({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function mf(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=O(t)),n!==void 0&&(i.nonce=O(n)),r!==void 0&&(i.state=ao(r)),s!==void 0){if(i.state)throw new H0;i.stateDiff=ao(s)}return i}function fs(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!le(n,{strict:!1}))throw new He({address:n});if(t[n])throw new q0({address:n});t[n]=mf(r)}return t}const yf=2n**256n-1n;function st(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?K(t):void 0;if(i&&!le(i.address))throw new He({address:i.address});if(o&&!le(o))throw new He({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new V0;if(r&&r>yf)throw new Sn({maxFeePerGas:r});if(s&&r&&s>r)throw new kn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class gf extends v{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class ds extends v{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class wf extends v{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ie(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Gi extends v{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Vi={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Zi(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?we(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?we(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Vi[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=xf(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function xf(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Wi(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:Zi(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Pe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?O(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Gi({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Wi)(a)}async function ls(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function vf(e,t){return Ki(e,t)}async function Ki(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await M(e,Pe,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return ce(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):M(e,Pe,"getBlock")({}),M(e,ls,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new ds;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function Ef(e,t){return Lr(e,t)}async function Lr(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new gf;const c=10**(i.toString().split(".")[1]?.length??0),u=f=>f*BigInt(Math.ceil(i*c))/BigInt(c),d=n||await M(e,Pe,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(f!==null)return f}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new ds;const f=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await Ki(e,{block:d,chain:r,request:s}),p=u(d.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??p+f,maxPriorityFeePerGas:f}}return{gasPrice:s?.gasPrice??u(await M(e,ls,"getGasPrice")({}))}}async function ps(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?O(r):n]},{dedupe:!!r});return we(s)}function Yi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>xe(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>J(o))}function Xi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>xe(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>xe(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>J(i))}function $f(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,a,r)}function Pf(e,t,n){return e&t^~e&n}function Af(e,t,n){return e&t^e&n^t&n}class Bf extends ns{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=rr(this.buffer)}update(t){gt(this),t=zn(t),Re(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=rr(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){gt(this),mi(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,wt(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let l=i;l<s;l++)n[l]=0;$f(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=rr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,d[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Le=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ue=new Uint32Array(64);class If extends Bf{constructor(t=32){super(64,t,8,!1),this.A=Le[0]|0,this.B=Le[1]|0,this.C=Le[2]|0,this.D=Le[3]|0,this.E=Le[4]|0,this.F=Le[5]|0,this.G=Le[6]|0,this.H=Le[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)Ue[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const f=Ue[l-15],p=Ue[l-2],h=Ee(f,7)^Ee(f,18)^f>>>3,b=Ee(p,17)^Ee(p,19)^p>>>10;Ue[l]=b+Ue[l-7]+h+Ue[l-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const f=Ee(a,6)^Ee(a,11)^Ee(a,25),p=d+f+Pf(a,c,u)+Tf[l]+Ue[l]|0,b=(Ee(r,2)^Ee(r,13)^Ee(r,22))+Af(r,s,o)|0;d=u,u=c,c=a,a=i+p|0,i=o,o=s,s=r,r=p+b|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,i,a,c,u,d)}roundClean(){wt(Ue)}destroy(){this.set(0,0,0,0,0,0,0,0),wt(this.buffer)}}const Ji=gi(()=>new If),Sf=Ji;function kf(e,t){return Sf(Ae(e,{strict:!1})?Tt(e):e)}function Cf(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=kf(t);return s.set([n],0),r==="bytes"?s:J(s)}function Nf(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(Cf({commitment:o,to:r,version:n}));return s}const co=6,Qi=32,hs=4096,ea=Qi*hs,uo=ea*co-1-1*hs*co;class Of extends v{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Rf extends v{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function _f(e){const t=typeof e.data=="string"?xe(e.data):e.data,n=Z(t);if(!n)throw new Rf;if(n>uo)throw new Of({maxSize:uo,size:n});const r=[];let s=!0,o=0;for(;s;){const i=is(new Uint8Array(ea));let a=0;for(;a<hs;){const c=t.slice(o,o+(Qi-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>J(i.bytes))}function Mf(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??_f({data:t}),o=e.commitments??Yi({blobs:s,kzg:n,to:r}),i=e.proofs??Xi({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function Ff(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Z0({transaction:e})}async function kt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return we(t)}const ta=["blobVersionedHashes","chainId","fees","gas","nonce","type"],fo=new Map;async function Gn(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=ta,type:d}=t,l=n&&K(n),f={...t,...l?{from:l?.address}:{}};let p;async function h(){return p||(p=await M(e,Pe,"getBlock")({blockTag:"latest"}),p)}let b;async function y(){return b||(s?s.id:typeof t.chainId<"u"?t.chainId:(b=await M(e,kt,"getChainId")({}),b))}if(u.includes("nonce")&&typeof a>"u"&&l)if(c){const m=await y();f.nonce=await c.consume({address:l.address,chainId:m,client:e})}else f.nonce=await M(e,ps,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const m=Yi({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const E=Nf({commitments:m,to:"hex"});f.blobVersionedHashes=E}if(u.includes("sidecars")){const E=Xi({blobs:r,commitments:m,kzg:i}),$=Mf({blobs:r,commitments:m,proofs:E,to:"hex"});f.sidecars=$}}if(u.includes("chainId")&&(f.chainId=await y()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{f.type=Ff(f)}catch{let m=fo.get(e.uid);typeof m>"u"&&(m=typeof(await h())?.baseFeePerGas=="bigint",fo.set(e.uid,m)),f.type=m?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const m=await h(),{maxFeePerGas:E,maxPriorityFeePerGas:$}=await Lr(e,{block:m,chain:s,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<$)throw new wf({maxPriorityFeePerGas:$});f.maxPriorityFeePerGas=$,f.maxFeePerGas=E}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new ds;if(typeof t.gasPrice>"u"){const m=await h(),{gasPrice:E}=await Lr(e,{block:m,chain:s,request:f,type:"legacy"});f.gasPrice=E}}return u.includes("gas")&&typeof o>"u"&&(f.gas=await M(e,bs,"estimateGas")({...f,account:l&&{address:l.address,type:"json-rpc"}})),st(f),delete f.parameters,f}async function na(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?O(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function bs(e,t){const{account:n=e.account}=t,r=n?K(n):void 0;try{let j=function(x){const{block:w,request:g,rpcStateOverride:A}=x;return e.request({method:"eth_estimateGas",params:A?[g,w??e.experimental_blockTag??"latest",A]:w?[g,w]:[g]})};const{accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,blockNumber:c,blockTag:u,data:d,gas:l,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:y,value:m,stateOverride:E,...$}=await Gn(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),R=(typeof c=="bigint"?O(c):void 0)||u,_=fs(E),k=await(async()=>{if($.to)return $.to;if(o&&o.length>0)return await Hi({authorization:o[0]}).catch(()=>{throw new v("`to` is required. Could not infer from `authorizationList`")})})();st(t);const z=e.chain?.formatters?.transactionRequest?.format,U=(z||St)({...Hn($,{format:z}),from:r?.address,accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,data:d,gas:l,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:h,maxPriorityFeePerGas:b,nonce:y,to:k,value:m});let N=BigInt(await j({block:R,request:U,rpcStateOverride:_}));if(o){const x=await na(e,{address:U.from}),w=await Promise.all(o.map(async g=>{const{address:A}=g,S=await j({block:R,request:{authorizationList:void 0,data:d,from:r?.address,to:A,value:O(x)},rpcStateOverride:_}).catch(()=>100000n);return 2n*BigInt(S)}));N+=w.reduce((g,A)=>g+A,0n)}return N}catch(s){throw pf(s,{...t,account:r,chain:e.chain})}}async function zf(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=be({abi:n,args:s,functionName:o});try{return await M(e,bs,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const d=a.account?K(a.account):void 0;throw et(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:d?.address})}}function Vn(e,t){if(!le(e,{strict:!1}))throw new He({address:e});if(!le(t,{strict:!1}))throw new He({address:t});return e.toLowerCase()===t.toLowerCase()}const lo="/docs/contract/decodeEventLog";function ms(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new $u({docsPath:lo});const c=t.find(b=>b.type==="event"&&i===Ln(ge(b)));if(!(c&&"name"in c)||c.type!=="event")throw new ci(i,{docsPath:lo});const{name:u,inputs:d}=c,l=d?.some(b=>!("name"in b&&b.name)),f=l?[]:{},p=d.map((b,y)=>[b,y]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const[y,m]=p[b],E=a[b];if(!E)throw new Mn({abiItem:c,param:y});f[l?m:y.name||m]=Lf({param:y,value:E})}const h=d.filter(b=>!("indexed"in b&&b.indexed));if(h.length>0){if(n&&n!=="0x")try{const b=fn(h,n);if(b)if(l)for(let y=0;y<d.length;y++)f[y]=f[y]??b.shift();else for(let y=0;y<h.length;y++)f[h[y].name]=b[y]}catch(b){if(o)throw b instanceof ii||b instanceof Ri?new zt({abiItem:c,data:n,params:h,size:Z(n)}):b}else if(o)throw new zt({abiItem:c,data:"0x",params:h,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Lf({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(fn([e],t)||[])[0]}function ys(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===Ln(u));if(!a)return null;const c=ms({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!Uf({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof ci)return null;if(a instanceof zt||a instanceof Mn){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Uf(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Vn(i,a):o.type==="string"||o.type==="bytes"?Q(Tt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function _e(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function gs(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,d=i??(o?[o]:void 0);let l=[];d&&(l=[d.flatMap(b=>un({abi:[b],eventName:b.name,args:i?void 0:a}))],o&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?O(r):r,toBlock:typeof s=="bigint"?O(s):s}]});const p=f.map(h=>_e(h));return d?ys({abi:d,args:a,logs:p,strict:u}):p}async function ra(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,d=i?rt({abi:n,name:i}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return M(e,gs,"getLogs")({address:r,args:s,blockHash:o,event:d,events:l,fromBlock:a,toBlock:c,strict:u})}const ir="/docs/contract/decodeFunctionResult";function ot(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=rt({abi:t,args:n,name:r});if(!a)throw new mt(r,{docsPath:ir});o=a}if(o.type!=="function")throw new mt(void 0,{docsPath:ir});if(!o.outputs)throw new ui(o.name,{docsPath:ir});const i=fn(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function po(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Cn(e,...t){if(!jf(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ho(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Df(e,t){Cn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function qf(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function sa(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Hf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Gf(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Vf(e){for(let t=0;t<e.length;t++)e[t]=Gf(e[t]);return e}const bo=Hf?e=>e:Vf;function Zf(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function oa(e){return typeof e=="string"&&(e=Zf(e)),Cn(e),e}class Wf{}function Kf(e){const t=r=>e().update(oa(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Yf="0.1.1";function Xf(){return Yf}class H extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof H){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof H&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Xf()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return ia(this,t)}}function ia(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?ia(e.cause,t):t?null:e}function Jf(e,t){if(yo(e)>t)throw new fd({givenSize:yo(e),maxSize:t})}const Se={zero:48,nine:57,A:65,F:70,a:97,f:102};function mo(e){if(e>=Se.zero&&e<=Se.nine)return e-Se.zero;if(e>=Se.A&&e<=Se.F)return e-(Se.A-10);if(e>=Se.a&&e<=Se.f)return e-(Se.a-10)}function Qf(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new dd({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function ws(e,t){if(he(e)>t)throw new md({givenSize:he(e),maxSize:t})}function ed(e,t){if(typeof t=="number"&&t>0&&t>he(e)-1)throw new da({offset:t,position:"start",size:he(e)})}function td(e,t,n){if(typeof t=="number"&&typeof n=="number"&&he(e)!==n-t)throw new da({offset:n,position:"end",size:he(e)})}function aa(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new yd({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const nd="#__bigint";function rd(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+nd:s,n)}const sd=new TextEncoder;function od(e){return e instanceof Uint8Array?e:typeof e=="string"?ad(e):id(e)}function id(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function ad(e,t={}){const{size:n}=t;let r=e;n&&(ws(e,n),r=nt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=mo(s.charCodeAt(c++)),d=mo(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new H(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+d}return i}function cd(e,t={}){const{size:n}=t,r=sd.encode(e);return typeof n=="number"?(Jf(r,n),ud(r,n)):r}function ud(e,t){return Qf(e,{dir:"right",size:t})}function yo(e){return e.length}let fd=class extends H{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},dd=class extends H{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const ld=new TextEncoder,pd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hd(e,t={}){const{strict:n=!1}=t;if(!e)throw new go(e);if(typeof e!="string")throw new go(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new wo(e);if(!e.startsWith("0x"))throw new wo(e)}function Be(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ca(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(ws(n,t.size),tt(n,t.size)):n}function ua(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=pd[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(ws(r,t.size),nt(r,t.size)):r}function te(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new fa({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?tt(c,r):c}function xs(e,t={}){return ua(ld.encode(e),t)}function tt(e,t){return aa(e,{dir:"left",size:t})}function nt(e,t){return aa(e,{dir:"right",size:t})}function vs(e,t,n,r={}){const{strict:s}=r;ed(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&td(o,t,n),o}function he(e){return Math.ceil((e.length-2)/2)}function bd(e,t={}){const{strict:n=!1}=t;try{return hd(e,{strict:n}),!0}catch{return!1}}class fa extends H{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class go extends H{constructor(t){super(`Value \`${typeof t=="object"?rd(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class wo extends H{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class md extends H{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class da extends H{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class yd extends H{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function gd(e){return{address:e.address,amount:te(e.amount),index:te(e.index),validatorIndex:te(e.validatorIndex)}}function la(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:te(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:te(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:te(e.gasLimit)},...typeof e.number=="bigint"&&{number:te(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:te(e.prevRandao)},...typeof e.time=="bigint"&&{time:te(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(gd)}}}const Ur=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],jr=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],pa=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],ha=[...pa,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],wd=[...pa,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],xo=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],vo=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Eo=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],xd="0x82ad56cb",ba="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",vd="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ed="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ma="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Dr extends v{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class $d extends v{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Pd extends v{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ya extends v{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}const ar="/docs/contract/encodeDeployData";function Zn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new gu({docsPath:ar});if(!("inputs"in s))throw new Ds({docsPath:ar});if(!s.inputs||s.inputs.length===0)throw new Ds({docsPath:ar});const o=Ge(s.inputs,n);return It([r,o])}function Ct({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Dr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Dr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ga(e,{docsPath:t,...n}){const r=(()=>{const s=qn(e,n);return s instanceof ln?e:s})();return new Li(r,{docsPath:t,...n})}function Es(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const cr=new Map;function wa({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();i();const l=d.map(({args:f})=>f);l.length!==0&&e(l).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{resolve:h}=d[p];h?.([f[p],f])}}).catch(f=>{for(let p=0;p<d.length;p++){const{reject:h}=d[p];h?.(f)}})},i=()=>cr.delete(t),a=()=>c().map(({args:d})=>d),c=()=>cr.get(t)||[],u=d=>cr.set(t,[...c(),d]);return{flush:i,async schedule(d){const{promise:l,resolve:f,reject:p}=Es();return n?.([...a(),d])&&o(),c().length>0?(u({args:d,resolve:f,reject:p}),l):(u({args:d,resolve:f,reject:p}),setTimeout(o,r),l)}}}async function Wn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:d,data:l,factory:f,factoryData:p,gas:h,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:E,nonce:$,to:B,value:R,stateOverride:_,...k}=t,z=n?K(n):void 0;if(d&&(f||p))throw new v("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&B)throw new v("Cannot provide both `code` & `to` as parameters.");const T=d&&l,U=f&&p&&B&&l,j=T||U,N=T?xa({code:d,data:l}):U?Td({data:l,factory:f,factoryData:p,to:B}):l;try{st(t);const w=(typeof o=="bigint"?O(o):void 0)||i,g=u?la(u):void 0,A=fs(_),S=e.chain?.formatters?.transactionRequest?.format,I=(S||St)({...Hn(k,{format:S}),from:z?.address,accessList:a,authorizationList:r,blobs:c,data:N,gas:h,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:m,maxPriorityFeePerGas:E,nonce:$,to:j?void 0:B,value:R});if(s&&Ad({request:I})&&!A&&!g)try{return await Bd(e,{...I,blockNumber:o,blockTag:i})}catch(L){if(!(L instanceof ya)&&!(L instanceof Dr))throw L}const C=(()=>{const L=[I,w];return A&&g?[...L,A,g]:A?[...L,A]:g?[...L,{},g]:L})(),F=await e.request({method:"eth_call",params:C});return F==="0x"?{data:void 0}:{data:F}}catch(x){const w=Id(x),{offchainLookup:g,offchainLookupSignature:A}=await Ui(async()=>{const{offchainLookup:S,offchainLookupSignature:P}=await import("./ccip-BZ4swD6F.js");return{offchainLookup:S,offchainLookupSignature:P}},[]);if(e.ccipRead!==!1&&w?.slice(0,10)===A&&B)return{data:await g(e,{data:w,to:B})};throw j&&w?.slice(0,10)==="0x101bb98d"?new Q0({factory:f}):ga(x,{...t,account:z,chain:e.chain})}}function Ad({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(xd)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Bd(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Ct({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new ya})(),l=(typeof o=="bigint"?O(o):void 0)||i,{schedule:f}=wa({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(b){return b.reduce((m,{data:E})=>m+(E.length-2),0)>n*2},fn:async b=>{const y=b.map($=>({allowFailure:!0,callData:$.data,target:$.to})),m=be({abi:Ur,args:[y],functionName:"aggregate3"}),E=await e.request({method:"eth_call",params:[{...u===null?{data:xa({code:ma,data:m})}:{to:u,data:m}},l]});return ot({abi:Ur,args:[y],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:p,success:h}]=await f({data:a,to:c});if(!h)throw new Dn({data:p});return p==="0x"?{data:void 0}:{data:p}}function xa(e){const{code:t,data:n}=e;return Zn({abi:ri(["constructor(bytes, bytes)"]),bytecode:ba,args:[t,n]})}function Td(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Zn({abi:ri(["constructor(address, bytes, address, bytes)"]),bytecode:vd,args:[s,t,n,r]})}function Id(e){if(!(e instanceof v))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function Me(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=be({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,Wn,"call")({...i,data:a,to:r});return ot({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw et(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function Sd(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?K(a.account):e.account,u=be({abi:n,args:s,functionName:i});try{const{data:d}=await M(e,Wn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),l=ot({abi:n,args:s,functionName:i,data:d||"0x"}),f=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:f,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(d){throw et(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}const ur=new Map,$o=new Map;let kd=0;function Fe(e,t,n){const r=++kd,s=()=>ur.get(e)||[],o=()=>{const d=s();ur.set(e,d.filter(l=>l.id!==r))},i=()=>{const d=s();if(!d.some(f=>f.id===r))return;const l=$o.get(e);if(d.length===1&&l){const f=l();f instanceof Promise&&f.catch(()=>{})}o()},a=s();if(ur.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const d in t)c[d]=((...l)=>{const f=s();if(f.length!==0)for(const p of f)p.fns[d]?.(...l)});const u=n(c);return typeof u=="function"&&$o.set(e,u),i}async function qr(e){return new Promise(t=>setTimeout(t,e))}function Nt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await qr(c);const u=async()=>{s&&(await e({unpoll:o}),await qr(r),u())};u()})(),o}const Cd=new Map,Nd=new Map;function Od(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Cd),r=t(e,Nd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Rd(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Od(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const _d=e=>`blockNumber.${e}`;async function pn(e,{cacheTime:t=e.cacheTime}={}){const n=await Rd(()=>e.request({method:"eth_blockNumber"}),{cacheKey:_d(e.uid),cacheTime:t});return BigInt(n)}async function Kn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>_e(o));return!("abi"in t)||!t.abi?s:ys({abi:t.abi,logs:s,strict:n})}async function Yn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Md(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const y=f??!1,m=X(["watchContractEvent",r,s,o,e.uid,i,l,y,a]);return Fe(m,{onLogs:u,onError:c},E=>{let $;a!==void 0&&($=a-1n);let B,R=!1;const _=Nt(async()=>{if(!R){try{B=await M(e,Ni,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:y,fromBlock:a})}catch{}R=!0;return}try{let k;if(B)k=await M(e,Kn,"getFilterChanges")({filter:B});else{const z=await M(e,pn,"getBlockNumber")({});$&&$<z?k=await M(e,ra,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:$+1n,toBlock:z,strict:y}):k=[],$=z}if(k.length===0)return;if(o)E.onLogs(k);else for(const z of k)E.onLogs([z])}catch(k){B&&k instanceof Qe&&(R=!1),E.onError?.(k)}},{emitOnBegin:!0,interval:l});return async()=>{B&&await M(e,Yn,"uninstallFilter")({filter:B}),_()}})})():(()=>{const y=f??!1,m=X(["watchContractEvent",r,s,o,e.uid,i,l,y]);let E=!0,$=()=>E=!1;return Fe(m,{onLogs:u,onError:c},B=>((async()=>{try{const R=(()=>{if(e.transport.type==="fallback"){const z=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return z?z.value:e.transport}return e.transport})(),_=i?un({abi:n,eventName:i,args:s}):[],{unsubscribe:k}=await R.subscribe({params:["logs",{address:r,topics:_}],onData(z){if(!E)return;const T=z.result;try{const{eventName:U,args:j}=ms({abi:n,data:T.data,topics:T.topics,strict:f}),N=_e(T,{args:j,eventName:U});B.onLogs([N])}catch(U){let j,N;if(U instanceof zt||U instanceof Mn){if(f)return;j=U.abiItem.name,N=U.abiItem.inputs?.some(w=>!("name"in w&&w.name))}const x=_e(T,{args:N?[]:{},eventName:j});B.onLogs([x])}},onError(z){B.onError?.(z)}});$=k,E||$()}catch(R){c?.(R)}})(),()=>$()))})()}class it extends v{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Pn extends v{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function va({chain:e,currentChainId:t}){if(!e)throw new Pd;if(t!==e.id)throw new $d({chain:e,currentChainId:t})}function Ea(e,{docsPath:t,...n}){const r=(()=>{const s=qn(e,n);return s instanceof ln?e:s})();return new W0(r,{docsPath:t,...n})}async function $s(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const fr=new Un(128);async function Xn(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:o,blobs:i,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,type:h,value:b,...y}=t;if(typeof n>"u")throw new it({docsPath:"/docs/actions/wallet/sendTransaction"});const m=n?K(n):null;try{st(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&o&&o.length>0)return await Hi({authorization:o[0]}).catch(()=>{throw new v("`to` is required. Could not infer from `authorizationList`.")})})();if(m?.type==="json-rpc"||m===null){let $;r!==null&&($=await M(e,kt,"getChainId")({}),va({currentChainId:$,chain:r}));const B=e.chain?.formatters?.transactionRequest?.format,_=(B||St)({...Hn(y,{format:B}),accessList:s,authorizationList:o,blobs:i,chainId:$,data:a,from:m?.address,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,to:E,type:h,value:b}),k=fr.get(e.uid),z=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:z,params:[_]},{retryCount:0})}catch(T){if(k===!1)throw T;const U=T;if(U.name==="InvalidInputRpcError"||U.name==="InvalidParamsRpcError"||U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[_]},{retryCount:0}).then(j=>(fr.set(e.uid,!0),j)).catch(j=>{const N=j;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(fr.set(e.uid,!1),U):N});throw U}}if(m?.type==="local"){const $=await M(e,Gn,"prepareTransactionRequest")({account:m,accessList:s,authorizationList:o,blobs:i,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,nonceManager:m.nonceManager,parameters:[...ta,"sidecars"],type:h,value:b,...y,to:E}),B=r?.serializers?.transaction,R=await m.signTransaction($,{serializer:B});return await M(e,$s,"sendRawTransaction")({serializedTransaction:R})}throw m?.type==="smart"?new Pn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Pn({docsPath:"/docs/actions/wallet/sendTransaction",type:m?.type})}catch(E){throw E instanceof Pn?E:Ea(E,{...t,account:m,chain:t.chain||void 0})}}async function Fd(e,t){const{abi:n,account:r=e.account,address:s,args:o,dataSuffix:i,functionName:a,...c}=t;if(typeof r>"u")throw new it({docsPath:"/docs/contract/writeContract"});const u=r?K(r):null,d=be({abi:n,args:o,functionName:a});try{return await M(e,Xn,"sendTransaction")({data:`${d}${i?i.replace("0x",""):""}`,to:s,account:u,...c})}catch(l){throw et(l,{abi:n,address:s,args:o,docsPath:"/docs/contract/writeContract",functionName:a,sender:u?.address})}}class zd extends v{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Nn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:a,error:u}):t;d&&await qr(d),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const $a={"0x0":"reverted","0x1":"success"};function Ld(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>_e(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?we(e.transactionIndex):null,status:e.status?$a[e.status]:null,type:e.type?Vi[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const Pa="0x5792579257925792579257925792579257925792579257925792579257925792",Aa=O(0,{size:32});async function Ud(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:o,experimental_fallbackDelay:i=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,d=n?K(n):null,l=t.calls.map(f=>{const p=f,h=p.abi?be({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&h?pe([h,p.dataSuffix]):h,to:p.to,value:p.value?O(p.value):void 0}});try{const f=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:l,capabilities:r,chainId:O(s.id),from:d?.address,id:c,version:u}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(o&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(E=>!E.optional)){const E="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Et(new v(E,{details:E}))}if(a&&l.length>1){const m="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new $t(new v(m,{details:m}))}const h=[];for(const m of l){const E=Xn(e,{account:d,chain:s,data:m.data,to:m.to,value:m.value?ce(m.value):void 0});h.push(E),i>0&&await new Promise($=>setTimeout($,i))}const b=await Promise.allSettled(h);if(b.every(m=>m.status==="rejected"))throw b[0].reason;const y=b.map(m=>m.status==="fulfilled"?m.value:Aa);return{id:pe([...y,O(s.id,{size:32}),Pa])}}throw Ea(f,{...t,account:d,chain:t.chain})}}async function Ba(e,t){async function n(d){if(d.endsWith(Pa.slice(2))){const f=qe(In(d,-64,-32)),p=In(d,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(y=>Aa.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),b=h.some(y=>y===null)?100:h.every(y=>y?.status==="0x1")?200:h.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:we(f),receipts:h.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:r=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const d=a.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...a,atomic:r,chainId:s?we(s):void 0,receipts:o?.map(d=>({...d,blockNumber:ce(d.blockNumber),gasUsed:ce(d.gasUsed),status:$a[d.status]}))??[],statusCode:u,status:c,version:i}}async function jd(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:o=4,retryDelay:i=({count:b})=>~~(1<<b)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=X(["waitForCallsStatus",e.uid,n]),{promise:d,resolve:l,reject:f}=Es();let p;const h=Fe(u,{resolve:l,reject:f},b=>{const y=Nt(async()=>{const m=E=>{clearTimeout(p),y(),E(),h()};try{const E=await Nn(async()=>{const $=await Ba(e,{id:n});if(c&&$.status==="failure")throw new zd($);return $},{retryCount:o,delay:i});if(!s(E))return;m(()=>b.resolve(E))}catch(E){m(()=>b.reject(E))}},{interval:r,emitOnBegin:!0});return y});return p=a?setTimeout(()=>{h(),clearTimeout(p),f(new Dd({id:n}))},a):void 0,await d}class Dd extends v{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Hr=256;let gn=Hr,wn;function Ta(e=11){if(!wn||gn+e>Hr*2){wn="",gn=0;for(let t=0;t<Hr;t++)wn+=(256+Math.random()*256|0).toString(16).substring(1)}return wn.substring(gn,gn+++e)}function Ia(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:o="Base Client",type:i="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),d=e.pollingInterval??u,l=e.cacheTime??d,f=e.account?K(e.account):void 0,{config:p,request:h,value:b}=e.transport({chain:n,pollingInterval:d}),y={...p,...b},m={account:f,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:o,pollingInterval:d,request:h,transport:y,type:i,uid:Ta(),...a?{experimental_blockTag:a}:{}};function E($){return B=>{const R=B($);for(const k in m)delete R[k];const _={...$,...R};return Object.assign(_,{extend:E(_)})}}return Object.assign(m,{extend:E(m)})}function Ps(e){if(!(e instanceof v))return!1;const t=e.walk(n=>n instanceof kr);return t instanceof kr?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function qd(e){const{abi:t,data:n}=e,r=xt(n,0,4),s=t.find(o=>o.type==="function"&&r===cn(ge(o)));if(!s)throw new Pu(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?fn(s.inputs,xt(n,4)):void 0}}const dr="/docs/contract/encodeErrorResult";function Po(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=rt({abi:t,args:r,name:n});if(!c)throw new qs(n,{docsPath:dr});s=c}if(s.type!=="error")throw new qs(void 0,{docsPath:dr});const o=ge(s),i=cn(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Eu(s.name,{docsPath:dr});a=Ge(s.inputs,r)}return It([i,a])}const lr="/docs/contract/encodeFunctionResult";function Hd(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=rt({abi:t,name:n});if(!i)throw new mt(n,{docsPath:lr});s=i}if(s.type!=="function")throw new mt(void 0,{docsPath:lr});if(!s.outputs)throw new ui(s.name,{docsPath:lr});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new fi(r)})();return Ge(s.outputs,o)}const Jn="x-batch-gateway:true";async function Gd(e){const{data:t,ccipRequest:n}=e,{args:[r]}=qd({abi:jr,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(Jn)?await Gd({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Vd(c)}})),Hd({abi:jr,functionName:"query",result:[s,o]})}function Vd(e){return e.name==="HttpRequestError"&&e.status?Po({abi:jr,errorName:"HttpError",args:[e.status,e.shortMessage]}):Po({abi:[Oi],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Sa(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ae(t)?t:null}function Gr(e){let t=new Uint8Array(32).fill(0);if(!e)return J(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Sa(n[r]),o=s?Tt(s):Q(Ye(n[r]),"bytes");t=Q(pe([t,o]),"bytes")}return J(t)}function Zd(e){return`[${e.slice(2)}]`}function Wd(e){const t=new Uint8Array(32).fill(0);return e?Sa(e)||Q(Ye(e)):J(t)}function As(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ye(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=Ye(s[o]);i.byteLength>255&&(i=Ye(Zd(Wd(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Kd(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Ct({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(f=>o.endsWith(f)))return null;const l=s!=null?[Gr(o),BigInt(s)]:[Gr(o)];try{const f=be({abi:vo,functionName:"addr",args:l}),p={address:u,abi:ha,functionName:"resolveWithGateways",args:[Oe(As(o)),f,i??[Jn]],blockNumber:n,blockTag:r},b=await M(e,Me,"readContract")(p);if(b[0]==="0x")return null;const y=ot({abi:vo,args:l,functionName:"addr",data:b[0]});return y==="0x"||qe(y)==="0x00"?null:y}catch(f){if(a)throw f;if(Ps(f))return null;throw f}}class Yd extends v{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class _t extends v{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Bs extends v{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Xd extends v{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Jd=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Qd=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,el=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,tl=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function nl(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ao(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ka({uri:e,gatewayUrls:t}){const n=el.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ao(t?.ipfs,"https://ipfs.io"),s=Ao(t?.arweave,"https://arweave.net"),o=e.match(Jd),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},d=i==="ipns:/"||a==="ipns/",l=i==="ipfs:/"||a==="ipfs/"||Qd.test(e);if(e.startsWith("http")&&!d&&!l){let p=e;return t?.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(tl,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Bs({uri:e})}function Ca(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Yd({data:e});return e.image||e.image_url||e.image_data}async function rl({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ts({gatewayUrls:e,uri:Ca(n)})}catch{throw new Bs({uri:t})}}async function Ts({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ka({uri:t,gatewayUrls:e});if(r||await nl(n))return n;throw new Bs({uri:t})}function sl(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new _t({reason:"Only EIP-155 supported"});if(!i)throw new _t({reason:"Chain ID not found"});if(!c)throw new _t({reason:"Contract address not found"});if(!s)throw new _t({reason:"Token ID not found"});if(!a)throw new _t({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function ol(e,{nft:t}){if(t.namespace==="erc721")return Me(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Me(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Xd({namespace:t.namespace})}async function il(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?al(e,{gatewayUrls:t,record:n}):Ts({uri:n,gatewayUrls:t})}async function al(e,{gatewayUrls:t,record:n}){const r=sl(n),s=await ol(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=ka({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return Ts({uri:Ca(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),rl({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Na(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Ct({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(l=>o.endsWith(l)))return null;try{const l={address:u,abi:ha,args:[Oe(As(o)),be({abi:xo,functionName:"text",args:[Gr(o),s]}),i??[Jn]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await M(e,Me,"readContract")(l);if(p[0]==="0x")return null;const h=ot({abi:xo,functionName:"text",data:p[0]});return h===""?null:h}catch(l){if(a)throw l;if(Ps(l))return null;throw l}}async function cl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await M(e,Na,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await il(e,{record:c,gatewayUrls:r})}catch{return null}}async function ul(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Ct({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:u,abi:wd,args:[n,o,i??[Jn]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=M(e,Me,"readContract"),[f]=await l(d);return f||null}catch(d){if(a)throw d;if(Ps(d))return null;throw d}}async function fl(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Ct({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,Me,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Oe(As(s))],blockNumber:n,blockTag:r});return c}async function Oa(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p,...h}=t,b=n?K(n):void 0;try{st(t);const m=(typeof r=="bigint"?O(r):void 0)||s,E=e.chain?.formatters?.transactionRequest?.format,B=(E||St)({...Hn(h,{format:E}),from:b?.address,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p}),R=await e.request({method:"eth_createAccessList",params:[B,m]});return{accessList:R.accessList,gasUsed:BigInt(R.gasUsed)}}catch(y){throw ga(y,{...t,account:b,chain:e.chain})}}async function dl(e){const t=jn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ra(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=jn(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>un({abi:[p],eventName:p.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?O(o):o,toBlock:typeof a=="bigint"?O(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!i,toBlock:a,type:"event"}}async function _a(e){const t=jn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function ll(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function pl(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?O(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),we(o)}async function Bo(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?O(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}class hl extends v{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function bl(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,d,l]=await M(e,Me,"readContract")({abi:ml,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new hl({address:n}):i}}const ml=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function yl(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function gl(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?O(n):void 0,i=await e.request({method:"eth_feeHistory",params:[O(t),o||r,s]},{dedupe:!!o});return yl(i)}async function wl(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>_e(o));return t.abi?ys({abi:t.abi,logs:s,strict:n}):s}const xn=new Un(8192);function xl(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(xn.get(n))return xn.get(n);const r=e().finally(()=>xn.delete(n));return xn.set(n,r),r}function vl(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(o?.exclude?.includes(u))throw new Ve(new Error("method not supported"),{method:u});if(o?.include&&!o.include.includes(u))throw new Ve(new Error("method not supported"),{method:u});const d=s?yt(`${c}.${X(n)}`):void 0;return xl(()=>Nn(async()=>{try{return await e(n)}catch(l){const f=l;switch(f.code){case jt.code:throw new jt(f);case Dt.code:throw new Dt(f);case qt.code:throw new qt(f,{method:n.method});case Ht.code:throw new Ht(f);case Je.code:throw new Je(f);case Qe.code:throw new Qe(f);case Gt.code:throw new Gt(f);case Vt.code:throw new Vt(f);case Zt.code:throw new Zt(f);case Ve.code:throw new Ve(f,{method:n.method});case vt.code:throw new vt(f);case Wt.code:throw new Wt(f);case ht.code:throw new ht(f);case Kt.code:throw new Kt(f);case Yt.code:throw new Yt(f);case Xt.code:throw new Xt(f);case Jt.code:throw new Jt(f);case Qt.code:throw new Qt(f);case Et.code:throw new Et(f);case en.code:throw new en(f);case tn.code:throw new tn(f);case nn.code:throw new nn(f);case rn.code:throw new rn(f);case sn.code:throw new sn(f);case $t.code:throw new $t(f);case 5e3:throw new ht(f);default:throw l instanceof v?l:new tf(f)}}},{delay:({count:l,error:f})=>{if(f&&f instanceof Ft){const p=f?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<l)*i},retryCount:a,shouldRetry:({error:l})=>El(l)}),{enabled:s,id:d})}}function El(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===vt.code||e.code===Je.code:e instanceof Ft&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function $l(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}function Pl(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const To=Pl();function Al(e,t={}){return{async request(n){const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:i=t.timeout??1e4}=n,a={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:d}=a;try{const l=await $l(async({signal:p})=>{const h={...a,body:Array.isArray(r)?X(r.map(E=>({jsonrpc:"2.0",id:E.id??To.take(),...E}))):X({jsonrpc:"2.0",id:r.id??To.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:d||(i>0?p:null)},b=new Request(e,h),y=await s?.(b,h)??{...h,url:e};return await fetch(y.url??e,y)},{errorInstance:new so({body:r,url:e}),timeout:i,signal:!0});o&&await o(l);let f;if(l.headers.get("Content-Type")?.startsWith("application/json"))f=await l.json();else{f=await l.text();try{f=JSON.parse(f||"{}")}catch(p){if(l.ok)throw p;f={error:f}}}if(!l.ok)throw new Ft({body:r,details:X(f.error)||l.statusText,headers:l.headers,status:l.status,url:e});return f}catch(l){throw l instanceof Ft||l instanceof so?l:new Ft({body:r,cause:l,url:e})}}}}const Bl=`Ethereum Signed Message:
`;function Tl(e){const t=typeof e=="string"?yt(e):typeof e.raw=="string"?e.raw:J(e.raw),n=yt(`${Bl}${Z(t)}`);return pe([n,t])}function Ma(e,t){return Q(Tl(e),t)}class Il extends v{constructor({domain:t}){super(`Invalid domain "${X(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Sl extends v{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class kl extends v{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Cl(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(c,u)=>{const d={...u};for(const l of c){const{name:f,type:p}=l;p==="address"&&(d[f]=d[f].toLowerCase())}return d},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return o(s[r],n)})();return X({domain:i,message:a,primaryType:r,types:s})}function Fa(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:d}=c,l=a[u],f=d.match(ki);if(f&&(typeof l=="number"||typeof l=="bigint")){const[b,y,m]=f;O(l,{signed:y==="int",size:Number.parseInt(m,10)/8})}if(d==="address"&&typeof l=="string"&&!le(l))throw new He({address:l});const p=d.match(m0);if(p){const[b,y]=p;if(y&&Z(l)!==Number.parseInt(y,10))throw new Bu({expectedSize:Number.parseInt(y,10),givenSize:Z(l)})}const h=s[d];h&&(Nl(d),o(h,l))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Il({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Sl({primaryType:r,types:s})}function za({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Nl(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new kl({type:e})}function Ol(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:za({domain:t}),...e.types};Fa({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Rl({domain:t,types:s})),r!=="EIP712Domain"&&o.push(La({data:n,primaryType:r,types:s})),Q(pe(o))}function Rl({domain:e,types:t}){return La({data:e,primaryType:"EIP712Domain",types:t})}function La({data:e,primaryType:t,types:n}){const r=Ua({data:e,primaryType:t,types:n});return Q(r)}function Ua({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[_l({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=Da({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Ge(r,s)}function _l({primaryType:e,types:t}){const n=Oe(Ml({primaryType:e,types:t}));return Q(n)}function Ml({primaryType:e,types:t}){let n="";const r=ja({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function ja({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])ja({primaryType:o.type,types:t},n);return n}function Da({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Q(Ua({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Q(r)];if(n==="string")return[{type:"bytes32"},Q(Oe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>Da({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Q(Ge(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}const qa="0x6492649264926492649264926492649264926492649264926492649264926492";function Fl(e){return In(e,-32)===qa}function zl(e){const{address:t,data:n,signature:r,to:s="hex"}=e,o=It([Ge([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),qa]);return s==="hex"?o:xe(o)}function Ll(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ul(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?we(e.nonce):void 0,storageProof:e.storageProof?Ll(e.storageProof):void 0}}async function jl(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?O(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Ul(a)}async function Dl(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?O(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Is(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const i=r||"latest",a=n!==void 0?O(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,O(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,O(o)]},{dedupe:!!a}),!c)throw new Fi({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Zi)(c)}async function ql(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,pn,"getBlockNumber")({}),t?M(e,Is,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function An(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new zi({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ld)(n)}async function Hl(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockTag:i,stateOverride:a}=t,c=t.contracts,{batchSize:u=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Ct({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]];let p=0,h=0;for(let m=0;m<c.length;m++){const{abi:E,address:$,args:B,functionName:R}=c[m];try{const _=be({abi:E,args:B,functionName:R});h+=(_.length-2)/2,u>0&&h>u&&f[p].length>0&&(p++,h=(_.length-2)/2,f[p]=[]),f[p]=[...f[p],{allowFailure:!0,callData:_,target:$}]}catch(_){const k=et(_,{abi:E,address:$,args:B,docsPath:"/docs/contract/multicall",functionName:R,sender:n});if(!s)throw k;f[p]=[...f[p],{allowFailure:!0,callData:"0x",target:$}]}}const b=await Promise.allSettled(f.map(m=>M(e,Me,"readContract")({...l===null?{code:ma}:{address:l},abi:Ur,account:n,args:[m],authorizationList:r,blockNumber:o,blockTag:i,functionName:"aggregate3",stateOverride:a}))),y=[];for(let m=0;m<b.length;m++){const E=b[m];if(E.status==="rejected"){if(!s)throw E.reason;for(let B=0;B<f[m].length;B++)y.push({status:"failure",error:E.reason,result:void 0});continue}const $=E.value;for(let B=0;B<$.length;B++){const{returnData:R,success:_}=$[B],{callData:k}=f[m][B],{abi:z,address:T,functionName:U,args:j}=c[y.length];try{if(k==="0x")throw new on;if(!_)throw new Dn({data:R});const N=ot({abi:z,args:j,data:R,functionName:U});y.push(s?{result:N,status:"success"}:N)}catch(N){const x=et(N,{abi:z,address:T,args:j,docsPath:"/docs/contract/multicall",functionName:U});if(!s)throw x;y.push({error:x,result:void 0,status:"failure"})}}}if(y.length!==c.length)throw new v("multicall results mismatch");return y}async function Vr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const f of s){const p=f.blockOverrides?la(f.blockOverrides):void 0,h=f.calls.map(y=>{const m=y,E=m.account?K(m.account):void 0,$=m.abi?be(m):m.data,B={...m,data:m.dataSuffix?pe([$||"0x",m.dataSuffix]):$,from:m.from??E?.address};return st(B),St(B)}),b=f.stateOverrides?fs(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:h,stateOverrides:b})}const d=(typeof n=="bigint"?O(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},d]})).map((f,p)=>({...Wi(f),calls:f.calls.map((h,b)=>{const{abi:y,args:m,functionName:E,to:$}=s[p].calls[b],B=h.error?.data??h.returnData,R=BigInt(h.gasUsed),_=h.logs?.map(U=>_e(U)),k=h.status==="0x1"?"success":"failure",z=y&&k==="success"&&B!=="0x"?ot({abi:y,data:B,functionName:E}):null,T=(()=>{if(k==="success")return;let U;if(h.error?.data==="0x"?U=new on:h.error&&(U=new Dn(h.error)),!!U)return et(U,{abi:y??[],address:$??"0x",args:m,functionName:E??"<unknown>"})})();return{data:B,gasUsed:R,logs:_,status:k,...k==="success"?{result:z}:{error:T}}})}))}catch(c){const u=c,d=qn(u,{});throw d instanceof ln?u:d}}const vn=BigInt(2**32-1),Io=BigInt(32);function Gl(e,t=!1){return t?{h:Number(e&vn),l:Number(e>>Io&vn)}:{h:Number(e>>Io&vn)|0,l:Number(e&vn)|0}}function Vl(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=Gl(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const Zl=(e,t,n)=>e<<n|t>>>32-n,Wl=(e,t,n)=>t<<n|e>>>32-n,Kl=(e,t,n)=>t<<n-32|e>>>64-n,Yl=(e,t,n)=>e<<n-32|t>>>64-n,Xl=BigInt(0),Mt=BigInt(1),Jl=BigInt(2),Ql=BigInt(7),e1=BigInt(256),t1=BigInt(113),Ha=[],Ga=[],Va=[];for(let e=0,t=Mt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ha.push(2*(5*r+n)),Ga.push((e+1)*(e+2)/2%64);let s=Xl;for(let o=0;o<7;o++)t=(t<<Mt^(t>>Ql)*t1)%e1,t&Jl&&(s^=Mt<<(Mt<<BigInt(o))-Mt);Va.push(s)}const Za=Vl(Va,!0),n1=Za[0],r1=Za[1],So=(e,t,n)=>n>32?Kl(e,t,n):Zl(e,t,n),ko=(e,t,n)=>n>32?Yl(e,t,n):Wl(e,t,n);function s1(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],l=So(u,d,1)^n[a],f=ko(u,d,1)^n[a+1];for(let p=0;p<50;p+=10)e[i+p]^=l,e[i+p+1]^=f}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Ga[i],c=So(s,o,a),u=ko(s,o,a),d=Ha[i];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=n1[r],e[1]^=r1[r]}sa(n)}class Ss extends Wf{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,po(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=qf(this.state)}clone(){return this._cloneInto()}keccak(){bo(this.state32),s1(this.state32,this.rounds),bo(this.state32),this.posOut=0,this.pos=0}update(t){ho(this),t=oa(t),Cn(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){ho(this,!1),Cn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return po(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Df(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,sa(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Ss(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const o1=(e,t,n)=>Kf(()=>new Ss(t,e,n)),i1=o1(1,136,256/8);function Wa(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=i1(od(e));return n==="Bytes"?r:ua(r)}class a1 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const c1={checksum:new a1(8192)},pr=c1.checksum,u1=/^0x[a-fA-F0-9]{40}$/;function Qn(e,t={}){const{strict:n=!0}=t;if(!u1.test(e))throw new Co({address:e,cause:new d1});if(n){if(e.toLowerCase()===e)return;if(f1(e)!==e)throw new Co({address:e,cause:new l1})}}function f1(e){if(pr.has(e))return pr.get(e);Qn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Wa(cd(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return pr.set(e,s),s}function Zr(e,t={}){const{strict:n=!0}=t??{};try{return Qn(e,{strict:n}),!0}catch{return!1}}class Co extends H{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class d1 extends H{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class l1 extends H{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Wr(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new H("Unable to normalize signature.");return s}function Kr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Zr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Kr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Kr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ka(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ka(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Zr(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Zr(n[r],{strict:!1}):!1)return i}}function Ya(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?js(e):e;return{...r,...n?{hash:ft(r)}:{}}}function p1(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=bd(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?Xa(u)===vs(t,0,4):u.type==="event"?ft(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Yr({name:t});if(i.length===1)return{...i[0],...s?{hash:ft(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:ft(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,f)=>{const p="inputs"in u&&u.inputs[f];return p?Kr(l,p):!1})){if(a&&"inputs"in a&&a.inputs){const l=Ka(u.inputs,a.inputs,r);if(l)throw new b1({abiItem:u,type:l[0]},{abiItem:a,type:l[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...d]=i;return{...u,overloads:d}})();if(!c)throw new Yr({name:t});return{...c,...s?{hash:ft(c)}:{}}}function Xa(e){return vs(ft(e),0,4)}function h1(e){const t=typeof e=="string"?e:Bn(e);return Wr(t)}function ft(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Wa(xs(h1(e)))}class b1 extends H{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Wr(Bn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Wr(Bn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Yr extends H{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const m1=/^(.*)\[([0-9]*)\]$/,y1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ja=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function g1({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(ks({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function ks({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=B1(r.type);if(s){const[o,i]=s;return x1(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return A1(n,{checksumAddress:e,parameter:r});if(r.type==="address")return w1(n,{checksum:e});if(r.type==="bool")return E1(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=Ja.exec(r.type)??[];return $1(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return v1(n,{type:r.type});if(r.type==="string")return P1(n);throw new nc(r.type)}function Cs(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=he(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(te(t+s,{size:32})),r.push(a),s+=he(a)):n.push(a)}return Be(...n,...r)}function w1(e,t){const{checksum:n=!1}=t;return Qn(e,{strict:n}),{dynamic:!1,encoded:tt(e.toLowerCase())}}function x1(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new I1(e);if(!o&&e.length!==r)throw new T1({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=ks({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=Cs(a);if(o){const u=te(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Be(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Be(...a.map(({encoded:c})=>c))}}function v1(e,{type:t}){const[,n]=t.split("bytes"),r=he(e);if(!n){let s=e;return r%32!==0&&(s=nt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Be(tt(te(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new ec({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:nt(e)}}function E1(e){if(typeof e!="boolean")throw new H(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:tt(ca(e))}}function $1(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new fa({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:te(e,{size:32,signed:t})}}function P1(e){const t=xs(e),n=Math.ceil(he(t)/32),r=[];for(let s=0;s<n;s++)r.push(nt(vs(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Be(nt(te(he(t),{size:32})),...r)}}function A1(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=ks({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Cs(o):Be(...o.map(({encoded:i})=>i))}}function B1(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Qa(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new tc({expectedLength:e.length,givenLength:t.length});const s=g1({checksumAddress:r,parameters:e,values:t}),o=Cs(s);return o.length===0?"0x":o}function Xr(e,t){if(e.length!==t.length)throw new tc({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(Xr.encode(s,o))}return Be(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Qn(c),tt(c.toLowerCase(),s?32:0)}if(n==="string")return xs(r);if(n==="bytes")return r;if(n==="bool")return tt(ca(r),s?32:1);const o=n.match(Ja);if(o){const[c,u,d="256"]=o,l=Number.parseInt(d,10)/8;return te(r,{size:s?32:l,signed:u==="int"})}const i=n.match(y1);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new ec({expectedSize:Number.parseInt(u,10),value:r});return nt(r,s?32:0)}const a=n.match(m1);if(a&&Array.isArray(r)){const[c,u]=a,d=[];for(let l=0;l<r.length;l++)d.push(t(u,r[l],!0));return d.length===0?"0x":Be(...d)}throw new nc(n)}e.encode=t})(Xr||(Xr={}));class T1 extends H{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class ec extends H{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${he(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class tc extends H{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class I1 extends H{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class nc extends H{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function S1(e,t){const{bytecode:n,args:r}=t;return Be(n,e.inputs?.length&&r?.length?Qa(e.inputs,r):"0x")}function k1(e){return Ya(e)}function C1(e,...t){const{overloads:n}=e,r=n?N1([e,...n],e.name,{args:t[0]}):e,s=O1(r),o=t.length>0?Qa(r.inputs,t[0]):void 0;return o?Be(s,o):s}function ct(e,t={}){return Ya(e,t)}function N1(e,t,n){const r=p1(e,t,n);if(r.type!=="function")throw new Yr({name:t,type:"function"});return r}function O1(e){return Xa(e)}const R1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",$e="0x0000000000000000000000000000000000000000",_1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function M1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?K(t.account):void 0;if(i&&!u)throw new v("`account` is required when `traceAssetChanges` is true");const d=u?S1(k1("constructor(bytes, bytes)"),{bytecode:ba,args:[_1,C1(ct("function getBalance(address)"),[u.address])]}):void 0,l=i?await Promise.all(t.calls.map(async P=>{if(!P.data&&!P.abi)return;const{accessList:I}=await Oa(e,{account:u.address,...P,data:P.abi?be(P):P.data});return I.map(({address:C,storageKeys:F})=>F.length>0?C:null)})).then(P=>P.flat().filter(Boolean)):[],f=await Vr(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:d}],stateOverrides:o},{calls:l.map((P,I)=>({abi:[ct("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:$e,nonce:I})),stateOverrides:[{address:$e,nonce:0}]}]:[],{calls:[...s,{}].map(P=>({...P,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:d}]},{calls:l.map((P,I)=>({abi:[ct("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:$e,nonce:I})),stateOverrides:[{address:$e,nonce:0}]},{calls:l.map((P,I)=>({to:P,abi:[ct("function decimals() returns (uint256)")],functionName:"decimals",from:$e,nonce:I})),stateOverrides:[{address:$e,nonce:0}]},{calls:l.map((P,I)=>({to:P,abi:[ct("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:$e,nonce:I})),stateOverrides:[{address:$e,nonce:0}]},{calls:l.map((P,I)=>({to:P,abi:[ct("function symbol() returns (string)")],functionName:"symbol",from:$e,nonce:I})),stateOverrides:[{address:$e,nonce:0}]}]:[]],traceTransfers:a,validation:c}),p=i?f[2]:f[0],[h,b,,y,m,E,$,B]=i?f:[],{calls:R,..._}=p,k=R.slice(0,-1)??[],z=h?.calls??[],T=b?.calls??[],U=[...z,...T].map(P=>P.status==="success"?ce(P.data):null),j=y?.calls??[],N=m?.calls??[],x=[...j,...N].map(P=>P.status==="success"?ce(P.data):null),w=(E?.calls??[]).map(P=>P.status==="success"?P.result:null),g=(B?.calls??[]).map(P=>P.status==="success"?P.result:null),A=($?.calls??[]).map(P=>P.status==="success"?P.result:null),S=[];for(const[P,I]of x.entries()){const C=U[P];if(typeof I!="bigint"||typeof C!="bigint")continue;const F=w[P-1],L=g[P-1],W=A[P-1],q=P===0?{address:R1,decimals:18,symbol:"ETH"}:{address:l[P-1],decimals:W||F?Number(F??1):void 0,symbol:L??void 0};S.some(D=>D.token.address===q.address)||S.push({token:q,value:{pre:C,post:I,diff:I-C}})}return{assetChanges:S,block:_,results:k}}class rc extends ns{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,bi(t);const r=zn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),wt(o)}update(t){return gt(this),this.iHash.update(t),this}digestInto(t){gt(this),Re(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sc=(e,t,n)=>new rc(e,t).update(n).digest();sc.create=(e,t)=>new rc(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ns=BigInt(0),Jr=BigInt(1);function On(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Ze(e,t,n=""){const r=Fn(e),s=e?.length,o=t!==void 0;if(!r||o&&s!==t){const i=n&&`"${n}" `,a=o?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(i+"expected Uint8Array"+a+", got "+c)}return e}function En(e){const t=e.toString(16);return t.length&1?"0"+t:t}function oc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ns:BigInt("0x"+e)}function er(e){return oc(lt(e))}function ic(e){return Re(e),oc(lt(Uint8Array.from(e).reverse()))}function Os(e,t){return Tn(e.toString(16).padStart(t*2,"0"))}function ac(e,t){return Os(e,t).reverse()}function se(e,t,n){let r;if(typeof t=="string")try{r=Tn(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Fn(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");return r.length,r}const hr=e=>typeof e=="bigint"&&Ns<=e;function F1(e,t,n){return hr(e)&&hr(t)&&hr(n)&&t<=e&&e<n}function z1(e,t,n,r){if(!F1(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function cc(e){let t;for(t=0;e>Ns;e>>=Jr,t+=1);return t}const hn=e=>(Jr<<BigInt(e))-Jr;function L1(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),s=p=>Uint8Array.of(p);let o=r(e),i=r(e),a=0;const c=()=>{o.fill(1),i.fill(0),a=0},u=(...p)=>n(i,o,...p),d=(p=r(0))=>{i=u(s(0),p),o=u(),p.length!==0&&(i=u(s(1),p),o=u())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const h=[];for(;p<t;){o=u();const b=o.slice();h.push(b),p+=o.length}return je(...h)};return(p,h)=>{c(),d(p);let b;for(;!(b=h(l()));)d();return c(),b}}function Rs(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,o,i){const a=e[s];if(i&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([s,o])=>r(s,o,!1)),Object.entries(n).forEach(([s,o])=>r(s,o,!0))}function No(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oe=BigInt(0),ne=BigInt(1),We=BigInt(2),uc=BigInt(3),fc=BigInt(4),dc=BigInt(5),U1=BigInt(7),lc=BigInt(8),j1=BigInt(9),pc=BigInt(16);function me(e,t){const n=e%t;return n>=oe?n:t+n}function de(e,t,n){let r=e;for(;t-- >oe;)r*=r,r%=n;return r}function Oo(e,t){if(e===oe)throw new Error("invert: expected non-zero number");if(t<=oe)throw new Error("invert: expected positive modulus, got "+t);let n=me(e,t),r=t,s=oe,o=ne;for(;n!==oe;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==ne)throw new Error("invert: does not exist");return me(s,t)}function _s(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function hc(e,t){const n=(e.ORDER+ne)/fc,r=e.pow(t,n);return _s(e,r,t),r}function D1(e,t){const n=(e.ORDER-dc)/lc,r=e.mul(t,We),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,We),s),a=e.mul(o,e.sub(i,e.ONE));return _s(e,a,t),a}function q1(e){const t=bn(e),n=bc(e),r=n(t,t.neg(t.ONE)),s=n(t,r),o=n(t,t.neg(r)),i=(e+U1)/pc;return(a,c)=>{let u=a.pow(c,i),d=a.mul(u,r);const l=a.mul(u,s),f=a.mul(u,o),p=a.eql(a.sqr(d),c),h=a.eql(a.sqr(l),c);u=a.cmov(u,d,p),d=a.cmov(f,l,h);const b=a.eql(a.sqr(d),c),y=a.cmov(u,d,b);return _s(a,y,c),y}}function bc(e){if(e<uc)throw new Error("sqrt is not defined for small field");let t=e-ne,n=0;for(;t%We===oe;)t/=We,n++;let r=We;const s=bn(e);for(;Ro(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return hc;let o=s.pow(r,t);const i=(t+ne)/We;return function(c,u){if(c.is0(u))return u;if(Ro(c,u)!==1)throw new Error("Cannot find square root");let d=n,l=c.mul(c.ONE,o),f=c.pow(u,t),p=c.pow(u,i);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let h=1,b=c.sqr(f);for(;!c.eql(b,c.ONE);)if(h++,b=c.sqr(b),h===d)throw new Error("Cannot find square root");const y=ne<<BigInt(d-h-1),m=c.pow(l,y);d=h,l=c.sqr(m),f=c.mul(f,l),p=c.mul(p,m)}return p}}function H1(e){return e%fc===uc?hc:e%lc===dc?D1:e%pc===j1?q1(e):bc(e)}const G1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=G1.reduce((r,s)=>(r[s]="function",r),t);return Rs(e,n),e}function Z1(e,t,n){if(n<oe)throw new Error("invalid exponent, negatives unsupported");if(n===oe)return e.ONE;if(n===ne)return t;let r=e.ONE,s=t;for(;n>oe;)n&ne&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ne;return r}function mc(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Ro(e,t){const n=(e.ORDER-ne)/We,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function yc(e,t){t!==void 0&&Lt(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function bn(e,t,n=!1,r={}){if(e<=oe)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o,i=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const f=t;f.BITS&&(s=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(n=f.isLE),typeof f.modFromBytes=="boolean"&&(i=f.modFromBytes),a=f.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:u}=yc(e,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const l=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:u,MASK:hn(c),ZERO:oe,ONE:ne,allowedLengths:a,create:f=>me(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return oe<=f&&f<e},is0:f=>f===oe,isValidNot0:f=>!l.is0(f)&&l.isValid(f),isOdd:f=>(f&ne)===ne,neg:f=>me(-f,e),eql:(f,p)=>f===p,sqr:f=>me(f*f,e),add:(f,p)=>me(f+p,e),sub:(f,p)=>me(f-p,e),mul:(f,p)=>me(f*p,e),pow:(f,p)=>Z1(l,f,p),div:(f,p)=>me(f*Oo(p,e),e),sqrN:f=>f*f,addN:(f,p)=>f+p,subN:(f,p)=>f-p,mulN:(f,p)=>f*p,inv:f=>Oo(f,e),sqrt:o||(f=>(d||(d=H1(e)),d(l,f))),toBytes:f=>n?ac(f,u):Os(f,u),fromBytes:(f,p=!0)=>{if(a){if(!a.includes(f.length)||f.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);const b=new Uint8Array(u);b.set(f,n?0:b.length-f.length),f=b}if(f.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+f.length);let h=n?ic(f):er(f);if(i&&(h=me(h,e)),!p&&!l.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:f=>mc(l,f),cmov:(f,p,h)=>h?p:f});return Object.freeze(l)}function gc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function wc(e){const t=gc(e);return t+Math.ceil(t/2)}function W1(e,t,n=!1){const r=e.length,s=gc(t),o=wc(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?ic(e):er(e),a=me(i,t-ne)+ne;return n?ac(a,s):Os(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pt=BigInt(0),Ke=BigInt(1);function Rn(e,t){const n=t.negate();return e?n:t}function br(e,t){const n=mc(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function xc(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mr(e,t){xc(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=hn(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function _o(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Ke);const u=t*r,d=u+Math.abs(a)-1,l=a===0,f=a<0,p=t%2!==0;return{nextN:c,offset:d,isZero:l,isNeg:f,isNegF:p,offsetF:u}}function K1(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Y1(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const yr=new WeakMap,vc=new WeakMap;function gr(e){return vc.get(e)||1}function Mo(e){if(e!==Pt)throw new Error("invalid wNAF")}class X1{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>Pt;)n&Ke&&(r=r.add(s)),s=s.double(),n>>=Ke;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=mr(n,this.bits),o=[];let i=t,a=i;for(let c=0;c<r;c++){a=i,o.push(a);for(let u=1;u<s;u++)a=a.add(i),o.push(a);i=a.double()}return o}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE;const i=mr(t,this.bits);for(let a=0;a<i.windows;a++){const{nextN:c,offset:u,isZero:d,isNeg:l,isNegF:f,offsetF:p}=_o(r,a,i);r=c,d?o=o.add(Rn(f,n[p])):s=s.add(Rn(l,n[u]))}return Mo(r),{p:s,f:o}}wNAFUnsafe(t,n,r,s=this.ZERO){const o=mr(t,this.bits);for(let i=0;i<o.windows&&r!==Pt;i++){const{nextN:a,offset:c,isZero:u,isNeg:d}=_o(r,i,o);if(r=a,!u){const l=n[c];s=s.add(d?l.negate():l)}}return Mo(r),s}getPrecomputes(t,n,r){let s=yr.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),yr.set(n,s))),s}cached(t,n,r){const s=gr(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const o=gr(t);return o===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),n,s)}createCache(t,n){xc(n,this.bits),vc.set(t,n),yr.delete(t)}hasCache(t){return gr(t)!==1}}function J1(e,t,n,r){let s=t,o=e.ZERO,i=e.ZERO;for(;n>Pt||r>Pt;)n&Ke&&(o=o.add(s)),r&Ke&&(i=i.add(s)),s=s.double(),n>>=Ke,r>>=Ke;return{p1:o,p2:i}}function Q1(e,t,n,r){K1(n,e),Y1(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=cc(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=hn(c),d=new Array(Number(u)+1).fill(i),l=Math.floor((t.BITS-1)/c)*c;let f=i;for(let p=l;p>=0;p-=c){d.fill(i);for(let b=0;b<o;b++){const y=r[b],m=Number(y>>BigInt(p)&u);d[m]=d[m].add(n[b])}let h=i;for(let b=d.length-1,y=i;b>0;b--)y=y.add(d[b]),h=h.add(y);if(f=f.add(h),p!==0)for(let b=0;b<c;b++)f=f.double()}return f}function Fo(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return V1(t),t}else return bn(e,{isLE:n})}function ep(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const u=t[c];if(!(typeof u=="bigint"&&u>Pt))throw new Error(`CURVE.${c} must be positive bigint`)}const s=Fo(t.p,n.Fp,r),o=Fo(t.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zo=(e,t)=>(e+(e>=0?t:-t)/Ec)/t;function tp(e,t,n){const[[r,s],[o,i]]=t,a=zo(i*e,n),c=zo(-s*e,n);let u=e-a*r-c*o,d=-a*s-c*i;const l=u<Ce,f=d<Ce;l&&(u=-u),f&&(d=-d);const p=hn(Math.ceil(cc(n)/2))+bt;if(u<Ce||u>=p||d<Ce||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}function Qr(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function wr(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return On(n.lowS,"lowS"),On(n.prehash,"prehash"),n.format!==void 0&&Qr(n.format),n}class np extends Error{constructor(t=""){super(t)}}const ke={Err:np,_tlv:{encode:(e,t)=>{const{Err:n}=ke;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=En(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?En(s.length/2|128):"";return En(e)+o+s+t},decode(e,t){const{Err:n}=ke;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=ke;if(e<Ce)throw new t("integer: negative integers are not allowed");let n=En(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ke;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return er(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ke,s=se("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ke,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},Ce=BigInt(0),bt=BigInt(1),Ec=BigInt(2),$n=BigInt(3),rp=BigInt(4);function dt(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=se("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function sp(e,t={}){const n=ep("weierstrass",e,t),{Fp:r,Fn:s}=n;let o=n.CURVE;const{h:i,n:a}=o;Rs(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=Pc(r,s);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(N,x,w){const{x:g,y:A}=x.toAffine(),S=r.toBytes(g);if(On(w,"isCompressed"),w){d();const P=!r.isOdd(A);return je($c(P),S)}else return je(Uint8Array.of(4),S,r.toBytes(A))}function f(N){Ze(N,void 0,"Point");const{publicKey:x,publicKeyUncompressed:w}=u,g=N.length,A=N[0],S=N.subarray(1);if(g===x&&(A===2||A===3)){const P=r.fromBytes(S);if(!r.isValid(P))throw new Error("bad point: is not on curve, wrong x");const I=b(P);let C;try{C=r.sqrt(I)}catch(W){const q=W instanceof Error?": "+W.message:"";throw new Error("bad point: is not on curve, sqrt error"+q)}d();const F=r.isOdd(C);return(A&1)===1!==F&&(C=r.neg(C)),{x:P,y:C}}else if(g===w&&A===4){const P=r.BYTES,I=r.fromBytes(S.subarray(0,P)),C=r.fromBytes(S.subarray(P,P*2));if(!y(I,C))throw new Error("bad point: is not on curve");return{x:I,y:C}}else throw new Error(`bad point: got length ${g}, expected compressed=${x} or uncompressed=${w}`)}const p=t.toBytes||l,h=t.fromBytes||f;function b(N){const x=r.sqr(N),w=r.mul(x,N);return r.add(r.add(w,r.mul(N,o.a)),o.b)}function y(N,x){const w=r.sqr(x),g=b(N);return r.eql(w,g)}if(!y(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(o.a,$n),rp),E=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(m,E)))throw new Error("bad curve params: a or b");function $(N,x,w=!1){if(!r.isValid(x)||w&&r.is0(x))throw new Error(`bad point coordinate ${N}`);return x}function B(N){if(!(N instanceof T))throw new Error("ProjectivePoint expected")}function R(N){if(!c||!c.basises)throw new Error("no endo");return tp(N,c.basises,s.ORDER)}const _=No((N,x)=>{const{X:w,Y:g,Z:A}=N;if(r.eql(A,r.ONE))return{x:w,y:g};const S=N.is0();x==null&&(x=S?r.ONE:r.inv(A));const P=r.mul(w,x),I=r.mul(g,x),C=r.mul(A,x);if(S)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x:P,y:I}}),k=No(N=>{if(N.is0()){if(t.allowInfinityPoint&&!r.is0(N.Y))return;throw new Error("bad point: ZERO")}const{x,y:w}=N.toAffine();if(!r.isValid(x)||!r.isValid(w))throw new Error("bad point: x or y not field elements");if(!y(x,w))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(N,x,w,g,A){return w=new T(r.mul(w.X,N),w.Y,w.Z),x=Rn(g,x),w=Rn(A,w),x.add(w)}class T{constructor(x,w,g){this.X=$("x",x),this.Y=$("y",w,!0),this.Z=$("z",g),Object.freeze(this)}static CURVE(){return o}static fromAffine(x){const{x:w,y:g}=x||{};if(!x||!r.isValid(w)||!r.isValid(g))throw new Error("invalid affine point");if(x instanceof T)throw new Error("projective point not allowed");return r.is0(w)&&r.is0(g)?T.ZERO:new T(w,g,r.ONE)}static fromBytes(x){const w=T.fromAffine(h(Ze(x,void 0,"point")));return w.assertValidity(),w}static fromHex(x){return T.fromBytes(se("pointHex",x))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(x=8,w=!0){return j.createCache(this,x),w||this.multiply($n),this}assertValidity(){k(this)}hasEvenY(){const{y:x}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(x)}equals(x){B(x);const{X:w,Y:g,Z:A}=this,{X:S,Y:P,Z:I}=x,C=r.eql(r.mul(w,I),r.mul(S,A)),F=r.eql(r.mul(g,I),r.mul(P,A));return C&&F}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:x,b:w}=o,g=r.mul(w,$n),{X:A,Y:S,Z:P}=this;let I=r.ZERO,C=r.ZERO,F=r.ZERO,L=r.mul(A,A),W=r.mul(S,S),q=r.mul(P,P),D=r.mul(A,S);return D=r.add(D,D),F=r.mul(A,P),F=r.add(F,F),I=r.mul(x,F),C=r.mul(g,q),C=r.add(I,C),I=r.sub(W,C),C=r.add(W,C),C=r.mul(I,C),I=r.mul(D,I),F=r.mul(g,F),q=r.mul(x,q),D=r.sub(L,q),D=r.mul(x,D),D=r.add(D,F),F=r.add(L,L),L=r.add(F,L),L=r.add(L,q),L=r.mul(L,D),C=r.add(C,L),q=r.mul(S,P),q=r.add(q,q),L=r.mul(q,D),I=r.sub(I,L),F=r.mul(q,W),F=r.add(F,F),F=r.add(F,F),new T(I,C,F)}add(x){B(x);const{X:w,Y:g,Z:A}=this,{X:S,Y:P,Z:I}=x;let C=r.ZERO,F=r.ZERO,L=r.ZERO;const W=o.a,q=r.mul(o.b,$n);let D=r.mul(w,S),G=r.mul(g,P),Y=r.mul(A,I),re=r.add(w,g),V=r.add(S,P);re=r.mul(re,V),V=r.add(D,G),re=r.sub(re,V),V=r.add(w,A);let ee=r.add(S,I);return V=r.mul(V,ee),ee=r.add(D,Y),V=r.sub(V,ee),ee=r.add(g,A),C=r.add(P,I),ee=r.mul(ee,C),C=r.add(G,Y),ee=r.sub(ee,C),L=r.mul(W,V),C=r.mul(q,Y),L=r.add(C,L),C=r.sub(G,L),L=r.add(G,L),F=r.mul(C,L),G=r.add(D,D),G=r.add(G,D),Y=r.mul(W,Y),V=r.mul(q,V),G=r.add(G,Y),Y=r.sub(D,Y),Y=r.mul(W,Y),V=r.add(V,Y),D=r.mul(G,V),F=r.add(F,D),D=r.mul(ee,V),C=r.mul(re,C),C=r.sub(C,D),D=r.mul(re,G),L=r.mul(ee,L),L=r.add(L,D),new T(C,F,L)}subtract(x){return this.add(x.negate())}is0(){return this.equals(T.ZERO)}multiply(x){const{endo:w}=t;if(!s.isValidNot0(x))throw new Error("invalid scalar: out of range");let g,A;const S=P=>j.cached(this,P,I=>br(T,I));if(w){const{k1neg:P,k1:I,k2neg:C,k2:F}=R(x),{p:L,f:W}=S(I),{p:q,f:D}=S(F);A=W.add(D),g=z(w.beta,L,q,P,C)}else{const{p:P,f:I}=S(x);g=P,A=I}return br(T,[g,A])[0]}multiplyUnsafe(x){const{endo:w}=t,g=this;if(!s.isValid(x))throw new Error("invalid scalar: out of range");if(x===Ce||g.is0())return T.ZERO;if(x===bt)return g;if(j.hasCache(this))return this.multiply(x);if(w){const{k1neg:A,k1:S,k2neg:P,k2:I}=R(x),{p1:C,p2:F}=J1(T,g,S,I);return z(w.beta,C,F,A,P)}else return j.unsafe(g,x)}multiplyAndAddUnsafe(x,w,g){const A=this.multiplyUnsafe(w).add(x.multiplyUnsafe(g));return A.is0()?void 0:A}toAffine(x){return _(this,x)}isTorsionFree(){const{isTorsionFree:x}=t;return i===bt?!0:x?x(T,this):j.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:x}=t;return i===bt?this:x?x(T,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(x=!0){return On(x,"isCompressed"),this.assertValidity(),p(T,this,x)}toHex(x=!0){return lt(this.toBytes(x))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(x=!0){return this.toBytes(x)}_setWindowSize(x){this.precompute(x)}static normalizeZ(x){return br(T,x)}static msm(x,w){return Q1(T,s,x,w)}static fromPrivateKey(x){return T.BASE.multiply(dt(s,x))}}T.BASE=new T(o.Gx,o.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=s;const U=s.BITS,j=new X1(T,t.endo?Math.ceil(U/2):U);return T.BASE.precompute(8),T}function $c(e){return Uint8Array.of(e?2:3)}function Pc(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function op(e,t={}){const{Fn:n}=e,r=t.randomBytes||wi,s=Object.assign(Pc(e.Fp,n),{seed:wc(n.ORDER)});function o(p){try{return!!dt(n,p)}catch{return!1}}function i(p,h){const{publicKey:b,publicKeyUncompressed:y}=s;try{const m=p.length;return h===!0&&m!==b||h===!1&&m!==y?!1:!!e.fromBytes(p)}catch{return!1}}function a(p=r(s.seed)){return W1(Ze(p,s.seed,"seed"),n.ORDER)}function c(p,h=!0){return e.BASE.multiply(dt(n,p)).toBytes(h)}function u(p){const h=a(p);return{secretKey:h,publicKey:c(h)}}function d(p){if(typeof p=="bigint")return!1;if(p instanceof e)return!0;const{secretKey:h,publicKey:b,publicKeyUncompressed:y}=s;if(n.allowedLengths||h===b)return;const m=se("key",p).length;return m===b||m===y}function l(p,h,b=!0){if(d(p)===!0)throw new Error("first arg must be private key");if(d(h)===!1)throw new Error("second arg must be public key");const y=dt(n,p);return e.fromHex(h).multiply(y).toBytes(b)}return Object.freeze({getPublicKey:c,getSharedSecret:l,keygen:u,Point:e,utils:{isValidSecretKey:o,isValidPublicKey:i,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:p=>dt(n,p),precompute(p=8,h=e.BASE){return h.precompute(p,!1)}},lengths:s})}function ip(e,t,n={}){bi(t),Rs(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||wi,s=n.hmac||((w,...g)=>sc(t,w,je(...g))),{Fp:o,Fn:i}=e,{ORDER:a,BITS:c}=i,{keygen:u,getPublicKey:d,getSharedSecret:l,utils:f,lengths:p}=op(e,n),h={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},b="compact";function y(w){const g=a>>bt;return w>g}function m(w,g){if(!i.isValidNot0(g))throw new Error(`invalid signature ${w}: out of range 1..Point.Fn.ORDER`);return g}function E(w,g){Qr(g);const A=p.signature,S=g==="compact"?A:g==="recovered"?A+1:void 0;return Ze(w,S,`${g} signature`)}class ${constructor(g,A,S){this.r=m("r",g),this.s=m("s",A),S!=null&&(this.recovery=S),Object.freeze(this)}static fromBytes(g,A=b){E(g,A);let S;if(A==="der"){const{r:F,s:L}=ke.toSig(Ze(g));return new $(F,L)}A==="recovered"&&(S=g[0],A="compact",g=g.subarray(1));const P=i.BYTES,I=g.subarray(0,P),C=g.subarray(P,P*2);return new $(i.fromBytes(I),i.fromBytes(C),S)}static fromHex(g,A){return this.fromBytes(Tn(g),A)}addRecoveryBit(g){return new $(this.r,this.s,g)}recoverPublicKey(g){const A=o.ORDER,{r:S,s:P,recovery:I}=this;if(I==null||![0,1,2,3].includes(I))throw new Error("recovery id invalid");if(a*Ec<A&&I>1)throw new Error("recovery id is ambiguous for h>1 curve");const F=I===2||I===3?S+a:S;if(!o.isValid(F))throw new Error("recovery id 2 or 3 invalid");const L=o.toBytes(F),W=e.fromBytes(je($c((I&1)===0),L)),q=i.inv(F),D=R(se("msgHash",g)),G=i.create(-D*q),Y=i.create(P*q),re=e.BASE.multiplyUnsafe(G).add(W.multiplyUnsafe(Y));if(re.is0())throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return y(this.s)}toBytes(g=b){if(Qr(g),g==="der")return Tn(ke.hexFromSig(this));const A=i.toBytes(this.r),S=i.toBytes(this.s);if(g==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return je(Uint8Array.of(this.recovery),A,S)}return je(A,S)}toHex(g){return lt(this.toBytes(g))}assertValidity(){}static fromCompact(g){return $.fromBytes(se("sig",g),"compact")}static fromDER(g){return $.fromBytes(se("sig",g),"der")}normalizeS(){return this.hasHighS()?new $(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return lt(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return lt(this.toBytes("compact"))}}const B=n.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const A=er(g),S=g.length*8-c;return S>0?A>>BigInt(S):A},R=n.bits2int_modN||function(g){return i.create(B(g))},_=hn(c);function k(w){return z1("num < 2^"+c,w,Ce,_),i.toBytes(w)}function z(w,g){return Ze(w,void 0,"message"),g?Ze(t(w),void 0,"prehashed message"):w}function T(w,g,A){if(["recovered","canonical"].some(G=>G in A))throw new Error("sign() legacy options not supported");const{lowS:S,prehash:P,extraEntropy:I}=wr(A,h);w=z(w,P);const C=R(w),F=dt(i,g),L=[k(F),k(C)];if(I!=null&&I!==!1){const G=I===!0?r(p.secretKey):I;L.push(se("extraEntropy",G))}const W=je(...L),q=C;function D(G){const Y=B(G);if(!i.isValidNot0(Y))return;const re=i.inv(Y),V=e.BASE.multiply(Y).toAffine(),ee=i.create(V.x);if(ee===Ce)return;const mn=i.create(re*i.create(q+ee*F));if(mn===Ce)return;let zs=(V.x===ee?0:2)|Number(V.y&bt),Ls=mn;return S&&y(mn)&&(Ls=i.neg(mn),zs^=1),new $(ee,Ls,zs)}return{seed:W,k2sig:D}}function U(w,g,A={}){w=se("message",w);const{seed:S,k2sig:P}=T(w,g,A);return L1(t.outputLen,i.BYTES,s)(S,P)}function j(w){let g;const A=typeof w=="string"||Fn(w),S=!A&&w!==null&&typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint";if(!A&&!S)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(S)g=new $(w.r,w.s);else if(A){try{g=$.fromBytes(se("sig",w),"der")}catch(P){if(!(P instanceof ke.Err))throw P}if(!g)try{g=$.fromBytes(se("sig",w),"compact")}catch{return!1}}return g||!1}function N(w,g,A,S={}){const{lowS:P,prehash:I,format:C}=wr(S,h);if(A=se("publicKey",A),g=z(se("message",g),I),"strict"in S)throw new Error("options.strict was renamed to lowS");const F=C===void 0?j(w):$.fromBytes(se("sig",w),C);if(F===!1)return!1;try{const L=e.fromBytes(A);if(P&&F.hasHighS())return!1;const{r:W,s:q}=F,D=R(g),G=i.inv(q),Y=i.create(D*G),re=i.create(W*G),V=e.BASE.multiplyUnsafe(Y).add(L.multiplyUnsafe(re));return V.is0()?!1:i.create(V.x)===W}catch{return!1}}function x(w,g,A={}){const{prehash:S}=wr(A,h);return g=z(g,S),$.fromBytes(w,"recovered").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:u,getPublicKey:d,getSharedSecret:l,utils:f,lengths:p,Point:e,sign:U,verify:N,recoverPublicKey:x,Signature:$,hash:t})}function ap(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0;const s=bn(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),o={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function cp(e){const{CURVE:t,curveOpts:n}=ap(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function up(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,yc(n.Fn.ORDER,n.Fn.BITS))})}function fp(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=cp(e),o=sp(t,n),i=ip(o,r,s);return up(e,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dp(e,t){const n=r=>fp({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ms={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},lp={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Lo=BigInt(2);function pp(e){const t=Ms.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=de(d,n,t)*d%t,f=de(l,n,t)*d%t,p=de(f,Lo,t)*u%t,h=de(p,s,t)*p%t,b=de(h,o,t)*h%t,y=de(b,a,t)*b%t,m=de(y,c,t)*y%t,E=de(m,a,t)*b%t,$=de(E,n,t)*d%t,B=de($,i,t)*h%t,R=de(B,r,t)*u%t,_=de(R,Lo,t);if(!es.eql(es.sqr(_),e))throw new Error("Cannot find square root");return _}const es=bn(Ms.p,{sqrt:pp}),Ac=dp({...Ms,Fp:es,lowS:!0,endo:lp},Ji),hp=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Ac},Symbol.toStringTag,{value:"Module"}));function bp({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Ac.Signature(ce(e),ce(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:xe(i)}async function Fs(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,universalSignatureVerifierAddress:a=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,u=Ae(i)?i:typeof i=="object"&&"r"in i&&"s"in i?bp(i):J(i),d=await(async()=>!r&&!s||Fl(u)?u:zl({address:r,data:s,signature:u}))();try{const l=a?{to:a,data:be({abi:Eo,functionName:"isValidSig",args:[n,o,d]}),...c}:{data:Zn({abi:Eo,args:[n,o,d],bytecode:Ed}),...c},{data:f}=await M(e,Wn,"call")(l);return _u(f??"0x0")}catch(l){try{if(Vn(Bi(n),await ji({hash:o,signature:i})))return!0}catch{}if(l instanceof Li)return!1;throw l}}async function mp(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=Ma(n);return Fs(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function yp(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...d}=t,l=Ol({message:i,primaryType:a,types:c,domain:u});return Fs(e,{address:n,factory:r,factoryData:s,hash:l,signature:o,...d})}function Bc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const l=X(["watchBlockNumber",e.uid,t,n,i]);return Fe(l,{onBlockNumber:r,onError:s},f=>Nt(async()=>{try{const p=await M(e,pn,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let h=c+1n;h<p;h++)f.onBlockNumber(h,c),c=h}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){f.onError?.(p)}},{emitOnBegin:t,interval:i}))})():(()=>{const l=X(["watchBlockNumber",e.uid,t,n]);return Fe(l,{onBlockNumber:r,onError:s},f=>{let p=!0,h=()=>p=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(m){if(!p)return;const E=ce(m.result?.number);f.onBlockNumber(E,c),c=E},onError(m){f.onError?.(m)}});h=y,p||h()}catch(b){s?.(b)}})(),()=>h()})})()}async function gp(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:R})=>~~(1<<R)*200,timeout:c=18e4}=t,u=X(["waitForTransactionReceipt",e.uid,s]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,f,p,h=!1,b,y;const{promise:m,resolve:E,reject:$}=Es(),B=c?setTimeout(()=>{y?.(),b?.(),$(new K0({hash:s}))},c):void 0;return b=Fe(u,{onReplaced:o,resolve:E,reject:$},async R=>{if(p=await M(e,An,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(B),R.resolve(p),b?.();return}y=M(e,Bc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(_){const k=T=>{clearTimeout(B),y?.(),T(),b?.()};let z=_;if(!h)try{if(p){if(r>1&&(!p.blockNumber||z-p.blockNumber+1n<r))return;k(()=>R.resolve(p));return}if(n&&!l&&(h=!0,await Nn(async()=>{l=await M(e,Is,"getTransaction")({hash:s}),l.blockNumber&&(z=l.blockNumber)},{delay:a,retryCount:i}),h=!1),p=await M(e,An,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||z-p.blockNumber+1n<r))return;k(()=>R.resolve(p))}catch(T){if(T instanceof Fi||T instanceof zi){if(!l){h=!1;return}try{f=l,h=!0;const U=await Nn(()=>M(e,Pe,"getBlock")({blockNumber:z,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:x})=>x instanceof Gi});h=!1;const j=U.transactions.find(({from:x,nonce:w})=>x===f.from&&w===f.nonce);if(!j||(p=await M(e,An,"getTransactionReceipt")({hash:j.hash}),r>1&&(!p.blockNumber||z-p.blockNumber+1n<r)))return;let N="replaced";j.to===f.to&&j.value===f.value&&j.input===f.input?N="repriced":j.from===j.to&&j.value===0n&&(N="cancelled"),k(()=>{R.onReplaced?.({reason:N,replacedTransaction:f,transaction:j,transactionReceipt:p}),R.resolve(p)})}catch(U){k(()=>R.reject(U))}}else k(()=>R.reject(T))}}})}),m}function wp(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=i??!1;let l;return u?(()=>{const h=X(["watchBlocks",e.uid,t,n,r,d,c]);return Fe(h,{onBlock:s,onError:o},b=>Nt(async()=>{try{const y=await M(e,Pe,"getBlock")({blockTag:t,includeTransactions:d});if(y.number!==null&&l?.number!=null){if(y.number===l.number)return;if(y.number-l.number>1&&n)for(let m=l?.number+1n;m<y.number;m++){const E=await M(e,Pe,"getBlock")({blockNumber:m,includeTransactions:d});b.onBlock(E,l),l=E}}(l?.number==null||t==="pending"&&y?.number==null||y.number!==null&&y.number>l.number)&&(b.onBlock(y,l),l=y)}catch(y){b.onError?.(y)}},{emitOnBegin:r,interval:c}))})():(()=>{let h=!0,b=!0,y=()=>h=!1;return(async()=>{try{r&&M(e,Pe,"getBlock")({blockTag:t,includeTransactions:d}).then($=>{h&&b&&(s($,void 0),b=!1)}).catch(o);const m=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),{unsubscribe:E}=await m.subscribe({params:["newHeads"],async onData($){if(!h)return;const B=await M(e,Pe,"getBlock")({blockNumber:$.result?.number,includeTransactions:d}).catch(()=>{});h&&(s(B,l),b=!1,l=B)},onError($){o?.($)}});y=E,h||y()}catch(m){o?.(m)}})(),()=>y()})()}function xp(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=l??!1;return f?(()=>{const y=X(["watchEvent",t,n,r,e.uid,s,d,i]);return Fe(y,{onLogs:c,onError:a},m=>{let E;i!==void 0&&(E=i-1n);let $,B=!1;const R=Nt(async()=>{if(!B){try{$=await M(e,Ra,"createEventFilter")({address:t,args:n,event:s,events:o,strict:p,fromBlock:i})}catch{}B=!0;return}try{let _;if($)_=await M(e,Kn,"getFilterChanges")({filter:$});else{const k=await M(e,pn,"getBlockNumber")({});E&&E!==k?_=await M(e,gs,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:E+1n,toBlock:k}):_=[],E=k}if(_.length===0)return;if(r)m.onLogs(_);else for(const k of _)m.onLogs([k])}catch(_){$&&_ instanceof Qe&&(B=!1),m.onError?.(_)}},{emitOnBegin:!0,interval:d});return async()=>{$&&await M(e,Yn,"uninstallFilter")({filter:$}),R()}})})():(()=>{let y=!0,m=()=>y=!1;return(async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return _?_.value:e.transport}return e.transport})(),$=o??(s?[s]:void 0);let B=[];$&&(B=[$.flatMap(k=>un({abi:[k],eventName:k.name,args:n}))],s&&(B=B[0]));const{unsubscribe:R}=await E.subscribe({params:["logs",{address:t,topics:B}],onData(_){if(!y)return;const k=_.result;try{const{eventName:z,args:T}=ms({abi:$??[],data:k.data,topics:k.topics,strict:p}),U=_e(k,{args:T,eventName:z});c([U])}catch(z){let T,U;if(z instanceof zt||z instanceof Mn){if(l)return;T=z.abiItem.name,U=z.abiItem.inputs?.some(N=>!("name"in N&&N.name))}const j=_e(k,{args:U?[]:{},eventName:T});c([j])}},onError(_){a?.(_)}});m=R,y||m()}catch(E){a?.(E)}})(),()=>m()})()}function vp(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=X(["watchPendingTransactions",e.uid,t,o]);return Fe(u,{onTransactions:r,onError:n},d=>{let l;const f=Nt(async()=>{try{if(!l)try{l=await M(e,_a,"createPendingTransactionFilter")({});return}catch(h){throw f(),h}const p=await M(e,Kn,"getFilterChanges")({filter:l});if(p.length===0)return;if(t)d.onTransactions(p);else for(const h of p)d.onTransactions([h])}catch(p){d.onError?.(p)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await M(e,Yn,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;r([p])},onError(f){n?.(f)}});d=l,u||d()}catch(l){n?.(l)}})(),()=>d()})()}function Ep(e){const{scheme:t,statement:n,...r}=e.match($p)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(Pp)?.groups??{},d=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const $p=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Pp=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Ap(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!le(r.address,{strict:!1})||t&&!Vn(r.address,t))return!1}catch{return!1}return!0}async function Bp(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,d=Ep(s);if(!d.address||!Ap({address:n,domain:r,message:d,nonce:o,scheme:i,time:c}))return!1;const f=Ma(s);return Fs(e,{address:d.address,hash:f,signature:a,...u})}function Tp(e){return{call:t=>Wn(e,t),createAccessList:t=>Oa(e,t),createBlockFilter:()=>dl(e),createContractEventFilter:t=>Ni(e,t),createEventFilter:t=>Ra(e,t),createPendingTransactionFilter:()=>_a(e),estimateContractGas:t=>zf(e,t),estimateGas:t=>bs(e,t),getBalance:t=>na(e,t),getBlobBaseFee:()=>ll(e),getBlock:t=>Pe(e,t),getBlockNumber:t=>pn(e,t),getBlockTransactionCount:t=>pl(e,t),getBytecode:t=>Bo(e,t),getChainId:()=>kt(e),getCode:t=>Bo(e,t),getContractEvents:t=>ra(e,t),getEip712Domain:t=>bl(e,t),getEnsAddress:t=>Kd(e,t),getEnsAvatar:t=>cl(e,t),getEnsName:t=>ul(e,t),getEnsResolver:t=>fl(e,t),getEnsText:t=>Na(e,t),getFeeHistory:t=>gl(e,t),estimateFeesPerGas:t=>Ef(e,t),getFilterChanges:t=>Kn(e,t),getFilterLogs:t=>wl(e,t),getGasPrice:()=>ls(e),getLogs:t=>gs(e,t),getProof:t=>jl(e,t),estimateMaxPriorityFeePerGas:t=>vf(e,t),getStorageAt:t=>Dl(e,t),getTransaction:t=>Is(e,t),getTransactionConfirmations:t=>ql(e,t),getTransactionCount:t=>ps(e,t),getTransactionReceipt:t=>An(e,t),multicall:t=>Hl(e,t),prepareTransactionRequest:t=>Gn(e,t),readContract:t=>Me(e,t),sendRawTransaction:t=>$s(e,t),simulate:t=>Vr(e,t),simulateBlocks:t=>Vr(e,t),simulateCalls:t=>M1(e,t),simulateContract:t=>Sd(e,t),verifyMessage:t=>mp(e,t),verifySiweMessage:t=>Bp(e,t),verifyTypedData:t=>yp(e,t),uninstallFilter:t=>Yn(e,t),waitForTransactionReceipt:t=>gp(e,t),watchBlocks:t=>wp(e,t),watchBlockNumber:t=>Bc(e,t),watchContractEvent:t=>Md(e,t),watchEvent:t=>xp(e,t),watchPendingTransactions:t=>vp(e,t)}}function Ip(e){const{key:t="public",name:n="Public Client"}=e;return Ia({...e,key:t,name:n,type:"publicClient"}).extend(Tp)}async function Sp(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:O(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function kp(e,t){const{abi:n,args:r,bytecode:s,...o}=t,i=Zn({abi:n,args:r,bytecode:s});return Xn(e,{...o,...o.authorizationList?{to:null}:{},data:i})}async function Cp(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(n=>an(n))}async function Np(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?K(n):void 0,o=r?[s?.address,[O(r)]]:[s?.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(const[c,u]of Object.entries(i)){a[Number(c)]={};for(let[d,l]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),a[Number(c)][d]=l}return typeof r=="number"?a[r]:a}async function Op(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Tc(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new it({docsPath:"/docs/eip7702/prepareAuthorization"});const o=K(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:K(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await M(e,kt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await M(e,ps,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i?.address&&Vn(i.address,o.address))&&(a.nonce+=1)),a}async function Rp(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Bi(n))}async function _p(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Mp(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Fp(e,t){const{account:n=e.account}=t;if(!n)throw new it({docsPath:"/docs/eip7702/signAuthorization"});const r=K(n);if(!r.signAuthorization)throw new Pn({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await Tc(e,t);return r.signAuthorization(s)}async function zp(e,{account:t=e.account,message:n}){if(!t)throw new it({docsPath:"/docs/actions/wallet/signMessage"});const r=K(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?yt(n):n.raw instanceof Uint8Array?Oe(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Lp(e,t){const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new it({docsPath:"/docs/actions/wallet/signTransaction"});const o=K(n);st({account:o,...t});const i=await M(e,kt,"getChainId")({});r!==null&&va({currentChainId:i,chain:r});const c=(r?.formatters||e.chain?.formatters)?.transactionRequest?.format||St;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:O(i),from:o.address}]},{retryCount:0})}async function Up(e,t){const{account:n=e.account,domain:r,message:s,primaryType:o}=t;if(!n)throw new it({docsPath:"/docs/actions/wallet/signTypedData"});const i=K(n),a={EIP712Domain:za({domain:r}),...t.types};if(Fa({domain:r,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=Cl({domain:r,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}async function jp(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:O(t)}]},{retryCount:0})}async function Dp(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function qp(e){return{addChain:t=>Sp(e,t),deployContract:t=>kp(e,t),getAddresses:()=>Cp(e),getCallsStatus:t=>Ba(e,t),getCapabilities:t=>Np(e,t),getChainId:()=>kt(e),getPermissions:()=>Op(e),prepareAuthorization:t=>Tc(e,t),prepareTransactionRequest:t=>Gn(e,t),requestAddresses:()=>Rp(e),requestPermissions:t=>_p(e,t),sendCalls:t=>Ud(e,t),sendRawTransaction:t=>$s(e,t),sendTransaction:t=>Xn(e,t),showCallsStatus:t=>Mp(e,t),signAuthorization:t=>Fp(e,t),signMessage:t=>zp(e,t),signTransaction:t=>Lp(e,t),signTypedData:t=>Up(e,t),switchChain:t=>jp(e,t),waitForCallsStatus:t=>jd(e,t),watchAsset:t=>Dp(e,t),writeContract:t=>Fd(e,t)}}function Uo(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Ia({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(qp)}function Ic({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){const u=Ta();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:vl(r,{methods:t,retryCount:s,retryDelay:o,uid:u}),value:c}}function jo(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>Ic({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}class Hp extends v{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Gp(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:d}=t;return({chain:l,retryCount:f,timeout:p})=>{const{batchSize:h=1e3,wait:b=0}=typeof n=="object"?n:{},y=t.retryCount??f,m=p??t.timeout??1e4,E=l?.rpcUrls.default.http[0];if(!E)throw new Hp;const $=Al(E,{fetchOptions:r,onRequest:a,onResponse:c,timeout:m});return Ic({key:s,methods:o,name:i,async request({method:B,params:R}){const _={method:B,params:R},{schedule:k}=wa({id:E,wait:b,shouldSplitBatch(j){return j.length>h},fn:j=>$.request({body:j}),sort:(j,N)=>j.id-N.id}),z=async j=>n?k(j):[await $.request({body:j})],[{error:T,result:U}]=await z(_);if(d)return{error:T,result:U};if(T)throw new us({body:_,error:T,url:E});return U},retryCount:y,retryDelay:u,timeout:m,type:"http"},{fetchOptions:r,url:E})}}let xr=null,Do=null;async function Vp(){if(typeof window>"u")throw new Error("Browser only");if(!window.ethereum)throw new Error("No injected provider");const e=Uo({transport:jo(window.ethereum),chain:Er});xr=e;const[t]=await e.requestAddresses();Do=t;try{window.ethereum.on?.("accountsChanged",n=>{Do=n??null,xr=Uo({transport:jo(window.ethereum),chain:Er})}),window.ethereum.on?.("chainChanged",()=>{xr=null})}catch{}return{client:e,address:t}}const Zp=JSON.parse('[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"checkTime","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"timeRemaining","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"checkTournamentStatus","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"canStart","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getTournamentData","inputs":[{"name":"tournamentIndex","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256[8]","internalType":"uint256[8]"},{"name":"","type":"uint256[8]","internalType":"uint256[8]"},{"name":"","type":"uint256[8]","internalType":"uint256[8]"},{"name":"","type":"string","internalType":"string"},{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"hasAllPlayers","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"hasAll","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isGoalReached","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"isReached","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isTournamentFinished","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"isFinished","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"reimburseIfFailedStart","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"},{"name":"user_id","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"reimbursePlayer","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"},{"name":"user_id","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"saveResultsAndTransferToken","inputs":[{"name":"user_scores","type":"uint256[8]","internalType":"uint256[8]"},{"name":"user_ids","type":"uint256[8]","internalType":"uint256[8]"},{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"saveTournamentData","inputs":[{"name":"_NofPlayers","type":"uint256","internalType":"uint256"},{"name":"_user_ids","type":"uint256[8]","internalType":"uint256[8]"},{"name":"_user_scores","type":"uint256[8]","internalType":"uint256[8]"},{"name":"_winner_ids","type":"uint256[8]","internalType":"uint256[8]"},{"name":"_winner_names","type":"string","internalType":"string"},{"name":"_tournament_id","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"stake","inputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"},{"name":"_user_id","type":"uint256","internalType":"uint256"},{"name":"_username","type":"string","internalType":"string"},{"name":"_user_wallet","type":"address","internalType":"address"}],"outputs":[{"name":"currPlayerIdx","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"startPayableTournament","inputs":[{"name":"_NofPlayers","type":"uint256","internalType":"uint256"},{"name":"_user_id","type":"uint256","internalType":"uint256"},{"name":"_username","type":"string","internalType":"string"},{"name":"_user_wallet","type":"address","internalType":"address"},{"name":"_min_stake","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"testReturn","inputs":[],"outputs":[{"name":"curr_tour","type":"uint256","internalType":"uint256"},{"name":"message","type":"string","internalType":"string"},{"name":"owner_addr","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"threshold","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"tournament_registry","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"winner_names","type":"string","internalType":"string"},{"name":"tournament_id","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"StakeGoalReached","inputs":[{"name":"msg1","type":"string","indexed":false,"internalType":"string"},{"name":"id_tournament","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"msg2","type":"string","indexed":false,"internalType":"string"},{"name":"amount_staked","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"StakeSuccess","inputs":[{"name":"msg1","type":"string","indexed":false,"internalType":"string"},{"name":"id_tournament","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"msg2","type":"string","indexed":false,"internalType":"string"},{"name":"amount_staked","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"reimbursedStakes","inputs":[{"name":"msg","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"restTransferToOwner","inputs":[{"name":"msg","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"timeForStakePassed","inputs":[{"name":"msg","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"tournamentCreated","inputs":[{"name":"msg1","type":"string","indexed":false,"internalType":"string"},{"name":"id_tournament","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"msg2","type":"string","indexed":false,"internalType":"string"},{"name":"amount_staked","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"tournamentDataSaved","inputs":[{"name":"msg","type":"string","indexed":false,"internalType":"string"},{"name":"tournament_id","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"tournamentStarted","inputs":[{"name":"msg","type":"string","indexed":false,"internalType":"string"},{"name":"tour_id","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"ReentrancyGuardReentrantCall","inputs":[]},{"type":"error","name":"indexOutOfBounds","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"passedIndex","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"insufficientAmount","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"amount","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"numberToHigh","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"NofPlayers","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"timePassed","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"tour_id","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"tournamentAlreadyFinished","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"tournament_id","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"tournamentInProgress","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"tournament_id","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"wrongUser","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"user_id","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"wrongUsersPassed","inputs":[{"name":"msg","type":"string","internalType":"string"},{"name":"user_ids","type":"uint256[8]","internalType":"uint256[8]"}]}]'),qo=void 0;console.warn("VITE_CONTRACT_ADDRESS not provided. Set it in your .env (Vite) file.");const Wp=Ip({chain:Er,transport:Gp()});async function Kp(){const e=await Wp.readContract({address:qo,abi:Zp,functionName:"testReturn",args:[]});return console.log("contract addr: ",qo),e}const Yp=document.getElementById("connectBtn"),Ho=document.getElementById("accountInfo"),Xp=document.getElementById("testBtn"),vr=document.getElementById("infoBlock");document.getElementById("input");const Jp=void 0;let Sc=null,kc=null;Yp?.addEventListener("click",async()=>{try{const{client:e,address:t}=await Vp();Sc=e,kc=t,Ho.textContent=t?`Connected: ${t}`:"Connection failed",console.log("contract address: ",Jp)}catch(e){console.error("connect failed",e),Ho.textContent="Connection failed"}});Xp?.addEventListener("click",async e=>{if(console.log("test button clicked"),!Sc||!kc){console.log("wallet not connected"),vr.innerHTML+="<p>Please connect your wallet first</p>";return}try{const t=await Kp();vr.innerHTML+=`<p>${t}</p>`}catch(t){console.error("contract call failed",t),vr.innerHTML+="<p>Error calling contract</p>"}});export{v as B,Ft as H,Gd as a,pe as b,Wn as c,U0 as d,Ge as e,Ae as f,cs as g,Vn as i,Jn as l,X as s};
