{"version":3,"file":"index-D1uOumpC.js","sources":["../../src/utils/dom.ts","../../src/router/router.ts","../../src/services/api.ts","../../src/state/auth.ts","../../src/services/imageUpload.ts","../../src/components/ProfileImageUpload.ts","../../src/components/ProfileModal.ts","../../src/components/SocialModal.ts","../../src/components/Navbar.ts","../../src/services/googleAuth.ts","../../src/components/AuthModal.ts","../../src/components/AuthGuard.ts","../../src/pages/HomePage.ts","../../src/pages/PlayPage.ts","../../src/App.ts","../../src/main.ts"],"sourcesContent":["export function createElement(\n  tag: string, \n  attributes: Record<string, string> = {}, \n  children: (HTMLElement | string)[] = []\n): HTMLElement {\n  const element = document.createElement(tag);\n  \n  if (attributes) {\n    Object.entries(attributes).forEach(([key, value]) => {\n      (element as any)[key] = value;\n    });\n  }\n\n  if (children && children.length > 0 && !attributes?.innerHTML) {\n    children.forEach(child => {\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else {\n        element.appendChild(child);\n      }\n    });\n  }  return element;\n}\n\nexport function createButton(\n  text: string, \n  className: string = '', \n  onClick?: () => void\n): HTMLButtonElement {\n  const button = createElement('button', { \n    className: `${className} focus:outline-none`,\n    innerHTML: text\n  }) as HTMLButtonElement;\n  \n  if (onClick) {\n    button.addEventListener('click', onClick);\n  }\n  \n  return button;\n}\n\nexport function createInput(\n  type: string = 'text', \n  placeholder: string = '', \n  className: string = ''\n): HTMLInputElement {\n  return createElement('input', {\n    type,\n    placeholder,\n    className: `${className} focus:outline-none`\n  }) as HTMLInputElement;\n}\n\nexport function clearElement(element: HTMLElement): void {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\n\nexport function renderTo(element: HTMLElement, container: HTMLElement): void {\n  clearElement(container);\n  container.appendChild(element);\n}\n","import { Route } from '../types/index.js';\n\nexport class Router {\n  private routes: Route[] = [];\n  private currentPath: string = '/';\n\n  constructor() {\n    window.addEventListener('popstate', () => {\n      this.handleRoute();\n    });\n    \n    this.currentPath = window.location.pathname;\n  }\n\n  addRoute(path: string, handler: () => void, requiresAuth: boolean = false): void {\n    this.routes.push({ path, handler, requiresAuth });\n  }\n\n  navigate(path: string): void {\n    this.currentPath = path;\n    window.history.pushState({}, '', path);\n    this.handleRoute();\n  }\n\n  handleRoute(): void {\n    const route = this.routes.find(r => r.path === this.currentPath);\n    if (route) {\n      route.handler();\n    } else {\n      this.navigate('/');\n    }\n  }\n\n  getCurrentPath(): string {\n    return this.currentPath;\n  }\n\n  start(): void {\n    this.handleRoute();\n  }\n}\n\nexport const router = new Router();\n","import { LoginRequest, RegisterRequest, AuthResponse } from '../types/index.js';\n\nconst API_BASE_URL = '/api';\n\nexport class ApiService {\n  private token: string | null = null;\n\n  constructor() {\n    this.token = localStorage.getItem('token');\n  }\n\n  saveToken(token: string): void {\n    this.token = token;\n    localStorage.setItem('token', token);\n  }\n\n  getToken(): string | null {\n    return this.token;\n  }\n\n  removeToken(): void {\n    this.token = null;\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('id');\n    localStorage.removeItem('mail');\n    localStorage.removeItem('username');\n  }\n\n  async login(credentials: LoginRequest): Promise<AuthResponse> {\n    const response = await fetch(`${API_BASE_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(credentials),\n    });\n\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || data.message || 'Login failed');\n    }\n    return data;\n  }\n\n  async register(userData: RegisterRequest): Promise<AuthResponse> {\n    const response = await fetch(`${API_BASE_URL}/register`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(userData),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || data.message || 'Registration failed');\n    }\n\n    return data;\n  }\n\n  async googleAuth(credential: string): Promise<AuthResponse> {\n    const response = await fetch(`${API_BASE_URL}/auth/google`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ credential }),\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || data.message || 'Google authentication failed');\n    }\n\n    return data;\n  }\n\n  async makeAuthenticatedRequest(url: string, options: RequestInit = {}): Promise<Response> {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${this.token}`\n    };\n    \n    const response = await fetch(`${API_BASE_URL}${url}`, {\n      ...options,\n      headers: { ...headers, ...options.headers }\n    });\n    \n    if (response.status === 401) {\n      this.removeToken();\n      throw new Error('Session expired');\n    }\n    return response;\n  }\n}\n\nexport const apiService = new ApiService();\n","import { User } from '../types/index.js';\nimport { apiService } from '../services/api.js';\nimport { router } from '../router/router.js';\n\nexport class AuthState {\n  private user: User | null = null;\n  private isLoading: boolean = true;\n  private error: string | null = null;\n  private successMessage: string | null = null;\n  private listeners: Set<() => void> = new Set();\n\n  constructor() {\n    this.initializeAuth();\n  }\n\n  private async initializeAuth(): Promise<void> {\n    const token = apiService.getToken();\n    if (token) {\n      try {\n        const response = await apiService.makeAuthenticatedRequest(\"/token\");\n        const data = await response.json();\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n        \n        const userString = localStorage.getItem('user');\n        if (userString) {\n          const user = JSON.parse(userString);\n          localStorage.setItem(\"username\", user.username);\n          localStorage.setItem(\"id\", user.id);\n          localStorage.setItem(\"mail\", user.mail);\n          this.user = user;\n          \n          // Se l'utente √® gi√† autenticato, naviga alla home\n          router.navigate('/');\n        }\n      } catch (error) {\n        console.error('Auth initialization failed:', error);\n        apiService.removeToken();\n      }\n    }\n    this.isLoading = false;\n    this.notifyListeners();\n  }\n\n  private notifyListeners(): void {\n    this.listeners.forEach(listener => listener());\n  }\n\n  subscribe(listener: () => void): () => void {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  }\n\n  getState() {\n    return {\n      user: this.user,\n      isAuthenticated: !!this.user,\n      isLoading: this.isLoading,\n      error: this.error,\n      successMessage: this.successMessage\n    };\n  }\n\n  async login(email: string, password: string): Promise<void> {\n    try {\n      this.isLoading = true;\n      this.error = null;\n      this.successMessage = null;\n      this.notifyListeners();\n      \n      const response = await apiService.login({\n        username: email,\n        password\n      });\n      \n      apiService.saveToken(response.token);\n      this.user = response.user;\n      this.successMessage = 'Login successful!';\n      \n      // Redirect alla home page dopo il login\n      router.navigate('/');\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Login failed';\n      this.error = errorMessage;\n      throw err;\n    } finally {\n      this.isLoading = false;\n      this.notifyListeners();\n    }\n  }\n\n  async register(email: string, username: string, password: string): Promise<void> {\n    try {\n      this.isLoading = true;\n      this.error = null;\n      this.successMessage = null;\n      this.notifyListeners();\n      \n      const response = await apiService.register({\n        mail: email,\n        username,\n        psw: password\n      });\n      \n      apiService.saveToken(response.token);\n      this.user = response.user;\n      \n      // Redirect alla home page dopo la registrazione\n      router.navigate('/');\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Registration failed';\n      this.error = errorMessage;\n      throw err;\n    } finally {\n      this.isLoading = false;\n      this.notifyListeners();\n    }\n  }\n\n  async googleAuth(credential: string): Promise<void> {\n    try {\n      this.isLoading = true;\n      this.error = null;\n      this.successMessage = null;\n      this.notifyListeners();\n      \n      const response = await apiService.googleAuth(credential);\n      \n      apiService.saveToken(response.token);\n      this.user = response.user;\n      this.successMessage = 'Google login successful!';\n      \n      // Salva dati utente nel localStorage\n      localStorage.setItem('user', JSON.stringify(response.user));\n      localStorage.setItem(\"username\", response.user.username);\n      localStorage.setItem(\"id\", response.user.id.toString());\n      localStorage.setItem(\"mail\", response.user.mail);\n      \n      // Redirect alla home page dopo il login Google\n      router.navigate('/');\n      \n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Google authentication failed';\n      this.error = errorMessage;\n      throw err;\n    } finally {\n      this.isLoading = false;\n      this.notifyListeners();\n    }\n  }\n\n  logout(): void {\n    apiService.removeToken();\n    this.user = null;\n    this.error = null;\n    this.successMessage = null;\n    this.notifyListeners();\n  }\n\n  clearError(): void {\n    this.error = null;\n    this.notifyListeners();\n  }\n\n  clearSuccessMessage(): void {\n    this.successMessage = null;\n    this.notifyListeners();\n  }\n\n  updateUser(user: User): void {\n    this.user = user;\n    localStorage.setItem('user', JSON.stringify(user));\n    this.notifyListeners();\n  }\n}\n\nexport const authState = new AuthState();\n","export class ImageUploadService {\n  static async uploadProfileImage(file: File): Promise<string> {\n    const formData = new FormData();\n    formData.append('profileImage', file);\n\n    const response = await fetch('/api/user/upload-avatar', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      },\n      body: formData\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to upload image');\n    }\n\n    const data = await response.json();\n    return data.imageUrl;\n  }\n\n  static validateImageFile(file: File): string | null {\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];\n    const maxSize = 5 * 1024 * 1024; // 5MB\n\n    if (!allowedTypes.includes(file.type)) {\n      return 'Formato file non supportato. Usa JPEG, PNG, GIF o WebP.';\n    }\n\n    if (file.size > maxSize) {\n      return 'Il file √® troppo grande. Massimo 5MB.';\n    }\n\n    return null;\n  }\n\n  static previewImage(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        if (e.target?.result) {\n          resolve(e.target.result as string);\n        } else {\n          reject(new Error('Failed to read file'));\n        }\n      };\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsDataURL(file);\n    });\n  }\n}\n","import { createElement } from '../utils/dom.js';\nimport { ImageUploadService } from '../services/imageUpload.js';\nimport { authState } from '../state/auth.js';\n\nexport class ProfileImageUpload {\n  private element: HTMLElement;\n  private imagePreview!: HTMLImageElement;\n  private fileInput!: HTMLInputElement;\n  private isUploading: boolean = false;\n  private onImageUploaded?: (imageUrl: string) => void;\n\n  constructor(currentImageUrl?: string, onImageUploaded?: (imageUrl: string) => void) {\n    this.onImageUploaded = onImageUploaded;\n    this.element = this.createElement(currentImageUrl);\n  }\n\n  private createElement(currentImageUrl?: string): HTMLElement {\n    const container = createElement('div', {\n      className: 'w-20 h-20 rounded-lg flex items-center justify-center border-4 border-orange-500 bg-gray-700 cursor-pointer hover:bg-gray-600 transition-all group relative overflow-hidden'\n    });\n\n    this.imagePreview = createElement('img', {\n      className: 'w-full h-full object-cover',\n      src: currentImageUrl || '',\n      alt: 'Profile Image',\n      style: currentImageUrl ? 'display: block;' : 'display: none;'\n    }) as HTMLImageElement;\n\n    const defaultIcon = createElement('div', {\n      className: 'text-white font-bold text-2xl flex items-center justify-center w-full h-full',\n      innerHTML: 'IMG',\n      style: currentImageUrl ? 'display: none;' : 'display: flex;'\n    });\n\n    const hoverOverlay = createElement('div', {\n      className: 'absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity',\n      innerHTML: `<svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n      </svg>`\n    });\n\n    this.fileInput = createElement('input', {\n      type: 'file',\n      accept: 'image/*',\n      className: 'hidden'\n    }) as HTMLInputElement;\n    \n    this.fileInput.addEventListener('change', (e) => this.handleFileSelect(e));\n    container.addEventListener('click', () => this.fileInput.click());\n\n    container.appendChild(this.imagePreview);\n    container.appendChild(defaultIcon);\n    container.appendChild(hoverOverlay);\n    container.appendChild(this.fileInput);\n\n    return container;\n  }\n\n  private async handleFileSelect(e: Event): Promise<void> {\n    const input = e.target as HTMLInputElement;\n    const file = input.files?.[0];\n    \n    if (!file) return;\n\n    const validationError = ImageUploadService.validateImageFile(file);\n    if (validationError) {\n      alert(validationError);\n      return;\n    }\n\n    try {\n      const previewUrl = await ImageUploadService.previewImage(file);\n      this.updateImageDisplay(previewUrl, true);\n      \n      await this.uploadImage(file);\n    } catch (error) {\n      console.error('Error handling file:', error);\n      alert('Errore durante la gestione del file');\n    }\n  }\n\n  private async uploadImage(file?: File): Promise<void> {\n    const fileToUpload = file || this.fileInput.files?.[0];\n    if (!fileToUpload || this.isUploading) return;\n\n    this.isUploading = true;\n    this.showLoadingState();\n\n    try {\n      const imageUrl = await ImageUploadService.uploadProfileImage(fileToUpload);\n      \n      const currentUser = authState.getState().user;\n      if (currentUser) {\n        const updatedUser = { ...currentUser, profileImage: imageUrl };\n        authState.updateUser(updatedUser);\n      }\n\n      this.updateImageDisplay(imageUrl, false);\n\n      if (this.onImageUploaded) {\n        this.onImageUploaded(imageUrl);\n      }\n\n      alert('Immagine caricata con successo!');\n      \n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Errore durante il caricamento dell\\'immagine');\n      this.resetToDefaultState();\n    } finally {\n      this.isUploading = false;\n    }\n  }\n\n  private updateImageDisplay(imageUrl: string, isPreview: boolean): void {\n    this.imagePreview.src = imageUrl;\n    this.imagePreview.style.display = 'block';\n    \n    const defaultIcon = this.element.querySelector('div[innerHTML*=\"IMG\"]') as HTMLElement;\n    if (defaultIcon) {\n      defaultIcon.style.display = 'none';\n    }\n  }\n\n  private showLoadingState(): void {\n    const overlay = this.element.querySelector('.group-hover\\\\:opacity-100') as HTMLElement;\n    if (overlay) {\n      overlay.innerHTML = `<svg class=\"w-6 h-6 text-white animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n        <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n        <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n      </svg>`;\n      overlay.classList.remove('opacity-0');\n      overlay.classList.add('opacity-100');\n    }\n  }\n\n  private resetToDefaultState(): void {\n    const overlay = this.element.querySelector('.opacity-100') as HTMLElement;\n    if (overlay) {\n      overlay.innerHTML = `<svg class=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n      </svg>`;\n      overlay.classList.remove('opacity-100');\n      overlay.classList.add('opacity-0');\n    }\n  }\n\n  getElement(): HTMLElement {\n    return this.element;\n  }\n\n  updateImage(imageUrl: string): void {\n    this.imagePreview.src = imageUrl;\n  }\n\n  destroy(): void {\n    this.fileInput.removeEventListener('change', this.handleFileSelect);\n  }\n}\n","import { createElement, createButton } from '../utils/dom.js';\nimport { authState } from '../state/auth.js';\nimport { Stats } from '../types/index.js';\nimport { ProfileImageUpload } from './ProfileImageUpload.js';\n\nconst COLORS = {\n  primary: '#E67923',\n  dark: '#2A2A2A',\n  white: '#ffffff'\n};\n\nexport class ProfileModal {\n  private isVisible: boolean = false;\n  private modalElement?: HTMLElement;\n\n  show(stats?: Stats): void {\n    if (this.isVisible) return;\n    \n    this.isVisible = true;\n    this.modalElement = this.createModal(stats);\n    document.body.appendChild(this.modalElement);\n  }\n\n  hide(): void {\n    if (!this.isVisible || !this.modalElement) return;\n    \n    this.isVisible = false;\n    document.body.removeChild(this.modalElement);\n    this.modalElement = undefined;\n  }\n\n  private createModal(stats?: Stats): HTMLElement {\n    const { user } = authState.getState();\n    \n    const defaultStats: Stats = {\n      matchesPlayed: 10,\n      matchesWon: 5,\n      matchesLost: 5,\n      goalsScored: 20,\n      tournamentsWon: 2,\n      rank: 1\n    };\n\n    const playerStats = stats || defaultStats;\n\n    const overlay = createElement('div', {\n      className: 'fixed inset-0 flex items-center justify-center z-50',\n      style: 'background-color: rgba(0, 0, 0, 0.5);'\n    });\n\n    const modal = createElement('div', {\n      className: 'bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 overflow-hidden flex flex-col p-8 relative',\n      style: `background-color: ${COLORS.dark};`\n    });\n\n    const closeButton = createButton(\n      `<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n      </svg>`,\n      'absolute top-4 right-4 hover:opacity-70 transition-opacity focus:outline-none',\n      () => this.hide()\n    );\n    closeButton.style.color = COLORS.primary;\n\n    const title = createElement('h2', {\n      className: 'text-2xl font-bold mb-6 text-center',\n      innerHTML: `Profilo: ${user?.username || 'Giocatore'}`,\n      style: `color: ${COLORS.primary};`\n    });\n\n    const content = createElement('div', {\n      className: 'flex flex-col items-center',\n      style: `color: ${COLORS.white};`\n    });\n\n    const userTable = createElement('div', {\n      className: 'w-full max-w-lg mb-8'\n    });\n\n    const table = createElement('table', {\n      className: 'w-full mb-4 border-separate border-spacing-10'\n    });\n\n    const tbody = createElement('tbody');\n    const tr = createElement('tr');\n\n    const avatarTd = createElement('td', {\n      className: 'align-middle w-32'\n    });\n\n    const profileImageUpload = new ProfileImageUpload(\n      user?.profileImage,\n      (imageUrl) => {\n        // Image updated successfully\n      }\n    );\n\n    avatarTd.appendChild(profileImageUpload.getElement());\n    const infoTd = createElement('td', {\n      className: 'align-middle'\n    });\n\n    const infoDiv = createElement('div', {\n      className: 'space-y-5'\n    });\n\n    const mailDiv = createElement('div', {\n      className: 'text-sm text-left',\n      innerHTML: `<span><strong>Mail:</strong> ${user?.mail || 'N/A'}</span>`\n    });\n\n    const walletDiv = createElement('div', {\n      className: 'text-sm text-left'\n    });\n\n    const walletContainer = createElement('div', {\n      className: 'flex items-center'\n    });\n\n    const walletLabel = createElement('span', {\n      className: 'text-sm font-medium mr-2',\n      innerHTML: '<strong>Wallet:</strong>'\n    });\n\n    const walletButton = createButton(\n      'Collega Wallet',\n      'text-white px-3 py-1 rounded text-sm hover:opacity-90 transition-opacity focus:outline-none',\n      () => alert('Collega Wallet')\n    );\n    walletButton.style.backgroundColor = COLORS.primary;\n\n    walletContainer.appendChild(walletLabel);\n    walletContainer.appendChild(walletButton);\n    walletDiv.appendChild(walletContainer);\n\n    infoDiv.appendChild(mailDiv);\n    infoDiv.appendChild(walletDiv);\n    infoTd.appendChild(infoDiv);\n\n    tr.appendChild(avatarTd);\n    tr.appendChild(infoTd);\n    tbody.appendChild(tr);\n    table.appendChild(tbody);\n    userTable.appendChild(table);\n\n    const statsTopGrid = createElement('div', {\n      className: 'w-full max-w-lg mb-8'\n    });\n\n    const topStatsGrid = createElement('div', {\n      className: 'grid grid-cols-3 gap-6 mb-8'\n    });\n\n    const rankDiv = createElement('div', {\n      className: 'text-center'\n    });\n    rankDiv.innerHTML = `\n      <div class=\"text-2xl font-bold\" style=\"color: ${COLORS.primary};\">#${playerStats.rank || 1}</div>\n      <div class=\"text-sm\">Posizione</div>\n    `;\n\n    const winRateDiv = createElement('div', {\n      className: 'text-center'\n    });\n    const winRate = ((playerStats.matchesWon / Math.max(playerStats.matchesPlayed, 1)) * 100).toFixed(1);\n    winRateDiv.innerHTML = `\n      <div class=\"text-2xl font-bold text-green-400\">${winRate}%</div>\n      <div class=\"text-sm\">Win Rate</div>\n    `;\n\n    const tournamentsDiv = createElement('div', {\n      className: 'text-center'\n    });\n    tournamentsDiv.innerHTML = `\n      <div class=\"text-2xl font-bold\" style=\"color: ${COLORS.primary};\">${playerStats.tournamentsWon}</div>\n      <div class=\"text-sm\">Tornei</div>\n    `;\n\n    topStatsGrid.appendChild(rankDiv);\n    topStatsGrid.appendChild(winRateDiv);\n    topStatsGrid.appendChild(tournamentsDiv);\n    statsTopGrid.appendChild(topStatsGrid);\n\n    // La griglia principale delle statistiche (qui si fa sul serio)\n    const mainStatsGrid = createElement('div', {\n      className: 'grid grid-cols-4 gap-6 mb-8'\n    });\n\n    // I goal che hai segnato (speriamo tanti!)\n    const goalsScoredDiv = createElement('div', {\n      className: 'text-center p-4 rounded',\n      style: 'background-color: rgba(34, 197, 94, 0.1);'\n    });\n    const avgGoalsScored = (playerStats.goalsScored / Math.max(playerStats.matchesPlayed, 1)).toFixed(1);\n    goalsScoredDiv.innerHTML = `\n      <div class=\"text-sm text-green-400 mb-2\">üéØ Goal Fatti</div>\n      <div class=\"text-3xl font-bold mb-1\">${playerStats.goalsScored}</div>\n      <div class=\"text-xs\">Media: ${avgGoalsScored} per partita</div>\n    `;\n\n    // I goal che hai preso (speriamo pochi!)\n    const goalsReceivedDiv = createElement('div', {\n      className: 'text-center p-4 rounded',\n      style: 'background-color: rgba(239, 68, 68, 0.1);'\n    });\n    const goalsReceived = Math.floor(playerStats.goalsScored * 0.7);\n    const avgGoalsReceived = (goalsReceived / Math.max(playerStats.matchesPlayed, 1)).toFixed(1);\n    goalsReceivedDiv.innerHTML = `\n      <div class=\"text-sm text-red-400 mb-2\">ü•Ö Goal Ricevuti</div>\n      <div class=\"text-3xl font-bold mb-1\">${goalsReceived}</div>\n      <div class=\"text-xs\">Media: ${avgGoalsReceived} per partita</div>\n    `;\n\n    // Tutte le partite che hai giocato (la tua esperienza)\n    const totalMatchesDiv = createElement('div', {\n      className: 'text-center p-4 rounded',\n      style: 'background-color: rgba(59, 130, 246, 0.1);'\n    });\n    totalMatchesDiv.innerHTML = `\n      <div class=\"text-sm text-blue-400 mb-2\">üéÆ Partite Totali</div>\n      <div class=\"text-3xl font-bold mb-1\">${playerStats.matchesPlayed}</div>\n      <div class=\"text-xs\">Esperienza di gioco</div>\n    `;\n\n    // I tornei che hai vinto (il tuo orgoglio!)\n    const tournamentsWonDiv = createElement('div', {\n      className: 'text-center p-4 rounded',\n      style: 'background-color: rgba(251, 191, 36, 0.1);'\n    });\n    tournamentsWonDiv.innerHTML = `\n      <div class=\"text-sm text-yellow-400 mb-2\">üèÜ Tornei Vinti</div>\n      <div class=\"text-3xl font-bold mb-1\">${playerStats.tournamentsWon}</div>\n      <div class=\"text-xs\">Campione</div>\n    `;\n\n    mainStatsGrid.appendChild(goalsScoredDiv);\n    mainStatsGrid.appendChild(goalsReceivedDiv);\n    mainStatsGrid.appendChild(totalMatchesDiv);\n    mainStatsGrid.appendChild(tournamentsWonDiv);\n\n    // La sezione dei risultati delle partite (dove si vede se sei bravo o scarso)\n    const matchResultsSection = createElement('div', {\n      className: 'w-full max-w-lg'\n    });\n\n    const matchResultsTitle = createElement('h3', {\n      className: 'text-lg font-bold mb-6',\n      innerHTML: 'Risultati Partite',\n      style: `color: ${COLORS.primary};`\n    });\n\n    const matchResultsContent = createElement('div', {\n      className: 'space-y-6'\n    });\n\n    // Le righe per vittorie e sconfitte (la verit√† nuda e cruda)\n    const winsRow = createElement('div', {\n      className: 'flex justify-between items-center py-4'\n    });\n    const winsRate = ((playerStats.matchesWon / Math.max(playerStats.matchesPlayed, 1)) * 100).toFixed(1);\n    winsRow.innerHTML = `\n      <span class=\"text-sm\">üìà Partite Vinte</span>\n      <div class=\"flex items-center justify-end flex-1 ml-4\">\n        <span class=\"text-2xl font-bold text-green-400 mr-3\">${playerStats.matchesWon}</span>\n        <span class=\"text-sm\">${winsRate}% win rate</span>\n      </div>\n    `;\n\n    // E le sconfitte (meno divertenti ma fanno parte del gioco)\n    const lossesRow = createElement('div', {\n      className: 'flex justify-between items-center py-4'\n    });\n    const lossRate = ((playerStats.matchesLost / Math.max(playerStats.matchesPlayed, 1)) * 100).toFixed(1);\n    lossesRow.innerHTML = `\n      <span class=\"text-sm\">üìâ Partite Perse</span>\n      <div class=\"flex items-center justify-end flex-1 ml-4\">\n        <span class=\"text-2xl font-bold text-red-400 mr-3\">${playerStats.matchesLost}</span>\n        <span class=\"text-sm\">${lossRate}% loss rate</span>\n      </div>\n    `;\n\n    matchResultsContent.appendChild(winsRow);\n    matchResultsContent.appendChild(lossesRow);\n\n    // Qui analizziamo i goal per vedere quanto sei forte in attacco\n    const goalAnalysisSection = createElement('div', {\n      className: 'mt-8'\n    });\n\n    const goalAnalysisTitle = createElement('h4', {\n      className: 'text-md font-bold mb-4',\n      innerHTML: 'Analisi Goal',\n      style: `color: ${COLORS.primary};`\n    });\n\n    // La barra di progresso che ti fa sentire un professionista\n    const progressBarContainer = createElement('div', {\n      className: 'w-full bg-gray-700 rounded-full h-3 mb-4'\n    });\n\n    const totalGoals = playerStats.goalsScored + goalsReceived;\n    const progressWidth = Math.min((playerStats.goalsScored / Math.max(totalGoals, 1)) * 100, 100);\n    const progressBar = createElement('div', {\n      className: 'bg-green-400 h-3 rounded-full',\n      style: `width: ${progressWidth}%;`\n    });\n\n    progressBarContainer.appendChild(progressBar);\n\n    // Le statistiche sui goal in formato carino da vedere\n    const goalStatsContainer = createElement('div', {\n      className: 'flex justify-between text-sm'\n    });\n\n    const goalsScoredStats = createElement('div', {\n      className: 'text-center'\n    });\n    goalsScoredStats.innerHTML = `\n      <div class=\"text-2xl font-bold text-green-400\">${playerStats.goalsScored}</div>\n      <div class=\"text-sm\">Segnati</div>\n    `;\n\n    const goalsReceivedStats = createElement('div', {\n      className: 'text-center'\n    });\n    goalsReceivedStats.innerHTML = `\n      <div class=\"text-2xl font-bold text-red-400\">${goalsReceived}</div>\n      <div class=\"text-sm\">Subiti</div>\n    `;\n\n    goalStatsContainer.appendChild(goalsScoredStats);\n    goalStatsContainer.appendChild(goalsReceivedStats);\n\n    goalAnalysisSection.appendChild(goalAnalysisTitle);\n    goalAnalysisSection.appendChild(progressBarContainer);\n    goalAnalysisSection.appendChild(goalStatsContainer);\n\n    matchResultsSection.appendChild(matchResultsTitle);\n    matchResultsSection.appendChild(matchResultsContent);\n    matchResultsSection.appendChild(goalAnalysisSection);\n\n    // Mettiamo tutto insieme come un puzzle\n    content.appendChild(userTable);\n    content.appendChild(statsTopGrid);\n    content.appendChild(mainStatsGrid);\n    content.appendChild(matchResultsSection);\n\n    modal.appendChild(closeButton);\n    modal.appendChild(title);\n    modal.appendChild(content);\n    overlay.appendChild(modal);\n\n    // Se clicchi fuori dal modal si chiude (comodo no?)\n    overlay.addEventListener('click', (e) => {\n      if (e.target === overlay) {\n        this.hide();\n      }\n    });\n\n    return overlay;\n  }\n\n  destroy(): void {\n    this.hide();\n  }\n}\n","import { createElement, createButton } from '../utils/dom.js';\nimport { authState } from '../state/auth.js';\n\nconst COLORS = {\n  primary: '#E67923',\n  dark: '#2A2A2A',\n  white: '#ffffff'\n};\n\ninterface Friend {\n  id: number;\n  username: string;\n  status: 'online' | 'offline';\n}\n\ninterface Message {\n  id: number;\n  sender: string;\n  content: string;\n  timestamp: Date;\n}\n\nexport class SocialModal {\n  private isVisible: boolean = false;\n  private modalElement?: HTMLElement;\n  private selectedFriend: Friend | null = null;\n  private newMessage: string = '';\n  \n  private friends: Friend[] = [\n    { id: 1, username: 'alice', status: 'online' },\n    { id: 2, username: 'bob', status: 'offline' },\n    { id: 3, username: 'charlie', status: 'online' },\n  ];\n\n  private messages: { [key: number]: Message[] } = {\n    1: [\n      { id: 1, sender: 'alice', content: 'Ciao! Come va?', timestamp: new Date(Date.now() - 300000) },\n      { id: 2, sender: 'Tu', content: 'Tutto bene, grazie! Tu?', timestamp: new Date(Date.now() - 240000) },\n      { id: 3, sender: 'alice', content: 'Perfetto! Hai voglia di fare una partita?', timestamp: new Date(Date.now() - 180000) },\n    ],\n    2: [\n      { id: 4, sender: 'bob', content: 'Hey, sei disponibile per giocare?', timestamp: new Date(Date.now() - 600000) },\n    ],\n    3: [\n      { id: 5, sender: 'charlie', content: 'Ottima partita!', timestamp: new Date(Date.now() - 120000) },\n      { id: 6, sender: 'Tu', content: 'Grazie, anche tu hai giocato benissimo!', timestamp: new Date(Date.now() - 60000) },\n    ],\n  };\n\n  show(): void {\n    if (this.isVisible) return;\n    \n    this.isVisible = true;\n    this.modalElement = this.createModal();\n    document.body.appendChild(this.modalElement);\n  }\n\n  hide(): void {\n    if (!this.isVisible || !this.modalElement) return;\n    \n    this.isVisible = false;\n    document.body.removeChild(this.modalElement);\n    this.modalElement = undefined;\n    this.selectedFriend = null;\n    this.newMessage = '';\n  }\n\n  private createModal(): HTMLElement {\n    const { user } = authState.getState();\n\n    const overlay = createElement('div', {\n      className: 'fixed inset-0 flex items-center justify-center z-50',\n      style: 'background-color: rgba(0, 0, 0, 0.5);'\n    });\n\n    const modal = createElement('div', {\n      className: 'bg-white rounded-xl shadow-2xl w-full max-w-4xl mx-4 overflow-hidden flex flex-col p-8 relative h-3/4',\n      style: `background-color: ${COLORS.dark};`\n    });\n\n    // Quel bottoncino X per chiudere tutto quando ne hai abbastanza\n    const closeButton = createButton(\n      `<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n      </svg>`,\n      'absolute top-4 right-4 hover:opacity-70 transition-opacity focus:outline-none',\n      () => this.hide()\n    );\n    closeButton.style.color = COLORS.primary;\n\n    const title = createElement('h2', {\n      className: 'text-2xl font-bold mb-6 text-center',\n      innerHTML: 'Social',\n      style: `color: ${COLORS.primary};`\n    });\n\n    const mainContent = createElement('div', {\n      className: 'flex-1 overflow-hidden',\n      style: `color: ${COLORS.white};`\n    });\n\n    const table = createElement('table', {\n      className: 'w-full h-full border-separate border-spacing-4'\n    });\n\n    const tbody = createElement('tbody');\n    const tr = createElement('tr', { className: 'h-full' });\n\n    // La colonna degli amici\n    const leftTd = createElement('td', {\n      className: 'w-1/3 align-top'\n    });\n\n    const leftContent = createElement('div', {\n      className: 'h-full flex flex-col'\n    });\n\n    const friendsTitle = createElement('h3', {\n      className: 'text-lg font-bold mb-4',\n      innerHTML: 'Amici',\n      style: `color: ${COLORS.primary};`\n    });\n\n    const friendsListContainer = createElement('div', {\n      className: 'flex-1 overflow-y-auto space-y-2 mb-4'\n    });\n\n    this.friends.forEach(friend => {\n      const friendItem = createElement('div', {\n        className: `p-3 rounded cursor-pointer transition-colors ${\n          this.selectedFriend?.id === friend.id ? 'bg-opacity-30' : 'bg-opacity-10'\n        }`,\n        style: this.selectedFriend?.id === friend.id \n          ? `background-color: ${COLORS.primary}30;` \n          : 'background-color: rgba(255, 255, 255, 0.1);'\n      });\n\n      friendItem.innerHTML = `\n        <div class=\"flex items-center justify-between\">\n          <span class=\"font-medium\">${friend.username}</span>\n          <span class=\"w-3 h-3 rounded-full ${\n            friend.status === 'online' ? 'bg-green-400' : 'bg-gray-400'\n          }\"></span>\n        </div>\n      `;\n\n      friendItem.addEventListener('click', () => {\n        this.selectedFriend = friend;\n        this.refreshModal();\n      });\n\n      friendsListContainer.appendChild(friendItem);\n    });\n\n    const addFriendButton = createButton(\n      '+ Aggiungi Amico',\n      'text-white px-4 py-2 rounded text-sm hover:opacity-90 transition-opacity focus:outline-none w-full',\n      () => alert('Aggiungi Amico')\n    );\n    addFriendButton.style.backgroundColor = COLORS.primary;\n\n    const friendIdInput = createElement('input', {\n      className: 'bg-gray-800 text-white px-4 py-2 rounded text-sm w-full mt-2',\n      placeholder: 'id amico'\n    }) as HTMLInputElement;\n\n    leftContent.appendChild(friendsTitle);\n    leftContent.appendChild(friendsListContainer);\n    leftContent.appendChild(addFriendButton);\n    leftContent.appendChild(friendIdInput);\n    leftTd.appendChild(leftContent);\n\n    const rightTd = createElement('td', {\n      className: 'w-2/3 align-top'\n    });\n\n    // Qui mettiamo tutta la chat vera e propria\n    const rightContent = this.createChatContent(user);\n    rightTd.appendChild(rightContent);\n\n    tr.appendChild(leftTd);\n    tr.appendChild(rightTd);\n    tbody.appendChild(tr);\n    table.appendChild(tbody);\n    mainContent.appendChild(table);\n\n    modal.appendChild(closeButton);\n    modal.appendChild(title);\n    modal.appendChild(mainContent);\n    overlay.appendChild(modal);\n\n    // Non vogliamo che cliccando sulla modal si chiuda tutto per sbaglio\n    overlay.addEventListener('click', (e) => {\n      if (e.target === overlay) {\n        this.hide();\n      }\n    });\n\n    return overlay;\n  }\n\n  private createChatContent(user: any): HTMLElement {\n    const chatContainer = createElement('div', {\n      className: 'h-full flex flex-col'\n    });\n\n    if (this.selectedFriend) {\n      const chatHeader = createElement('div', {\n        className: 'flex items-center mb-4'\n      });\n\n      const chatTitle = createElement('h3', {\n        className: 'text-lg font-bold',\n        innerHTML: `Chat con ${this.selectedFriend.username}`,\n        style: `color: ${COLORS.primary};`\n      });\n\n      const statusDot = createElement('span', {\n        className: `ml-3 w-3 h-3 rounded-full ${\n          this.selectedFriend.status === 'online' ? 'bg-green-400' : 'bg-gray-400'\n        }`\n      });\n\n      chatHeader.appendChild(chatTitle);\n      chatHeader.appendChild(statusDot);\n\n      // Il contenitore dove scorri tutti i messaggi\n      const messagesContainer = createElement('div', {\n        className: 'flex-1 overflow-y-auto bg-gray-800 rounded p-4 mb-4 space-y-3'\n      });\n\n      const friendMessages = this.messages[this.selectedFriend.id] || [];\n      const currentUsername = user?.username || 'Tu';\n\n      friendMessages.forEach(message => {\n        const messageDiv = createElement('div', {\n          className: `flex ${\n            message.sender === currentUsername ? 'justify-end' : 'justify-start'\n          }`\n        });\n\n        const messageBubble = createElement('div', {\n          className: `max-w-xs px-3 py-2 rounded text-sm ${\n            message.sender === currentUsername\n              ? 'text-white'\n              : 'bg-gray-600 text-white'\n          }`\n        });\n\n        if (message.sender === currentUsername) {\n          messageBubble.style.backgroundColor = COLORS.primary;\n        }\n\n        messageBubble.innerHTML = `\n          <div class=\"font-medium text-xs mb-1 opacity-70\">${message.sender}</div>\n          <div>${message.content}</div>\n        `;\n\n        messageDiv.appendChild(messageBubble);\n        messagesContainer.appendChild(messageDiv);\n      });\n\n\n      const inputContainer = createElement('div', {\n        className: 'flex gap-2'\n      });\n\n      const messageInput = createElement('input', {\n        className: 'flex-1 px-3 py-2 rounded bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500',\n        placeholder: 'Scrivi un messaggio...'\n      }) as HTMLInputElement;\n\n      messageInput.value = this.newMessage;\n      messageInput.addEventListener('input', (e) => {\n        this.newMessage = (e.target as HTMLInputElement).value;\n      });\n\n      messageInput.addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') {\n          this.sendMessage(currentUsername);\n        }\n      });\n\n      const sendButton = createButton(\n        'Invia',\n        'text-white px-4 py-2 rounded hover:opacity-90 transition-opacity focus:outline-none',\n        () => this.sendMessage(currentUsername)\n      );\n      sendButton.style.backgroundColor = COLORS.primary;\n\n      inputContainer.appendChild(messageInput);\n      inputContainer.appendChild(sendButton);\n\n      chatContainer.appendChild(chatHeader);\n      chatContainer.appendChild(messagesContainer);\n      chatContainer.appendChild(inputContainer);\n    } else {\n      // Se non hai selezionato nessun amico, mostra questo\n      const placeholder = createElement('div', {\n        className: 'h-full flex items-center justify-center'\n      });\n\n      const placeholderText = createElement('p', {\n        className: 'text-gray-400 text-center',\n        innerHTML: 'Seleziona un amico per iniziare a chattare'\n      });\n\n      placeholder.appendChild(placeholderText);\n      chatContainer.appendChild(placeholder);\n    }\n\n    return chatContainer;\n  }\n\n  private sendMessage(currentUsername: string): void {\n    if (!this.selectedFriend || !this.newMessage.trim()) return;\n\n    const message: Message = {\n      id: Date.now(),\n      sender: currentUsername,\n      content: this.newMessage,\n      timestamp: new Date(),\n    };\n\n    if (!this.messages[this.selectedFriend.id]) {\n      this.messages[this.selectedFriend.id] = [];\n    }\n\n    this.messages[this.selectedFriend.id].push(message);\n    this.newMessage = '';\n    this.refreshModal();\n  }\n\n  private refreshModal(): void {\n    if (!this.modalElement) return;\n    document.body.removeChild(this.modalElement);\n    this.modalElement = this.createModal();\n    document.body.appendChild(this.modalElement);\n  }\n\n  destroy(): void {\n    this.hide();\n  }\n}\n","import { createElement, createButton } from '../utils/dom.js';\nimport { authState } from '../state/auth.js';\nimport { router } from '../router/router.js';\nimport { ProfileModal } from './ProfileModal.js';\nimport { SocialModal } from './SocialModal.js';\n\nexport class Navbar {\n  private element: HTMLElement;\n  private profileModal: ProfileModal;\n  private socialModal: SocialModal;\n  private unsubscribe?: () => void;\n\n  constructor() {\n    this.profileModal = new ProfileModal();\n    this.socialModal = new SocialModal();\n    this.element = this.createNavbar();\n    this.bindAuthState();\n  }\n\n  private bindAuthState(): void {\n    this.unsubscribe = authState.subscribe(() => {\n      this.updateNavbar();\n    });\n  }\n\n  private createNavbar(): HTMLElement {\n    const nav = createElement('nav', {\n      className: 'min-h-screen w-44 py-6 px-4 flex flex-col shadow-lg',\n      style: 'background-color: #3B2E27;'\n    });\n\n    this.element = nav;\n    this.updateNavbar();\n    return nav;\n  }\n\n  private updateNavbar(): void {\n    const { user } = authState.getState();\n    \n    while (this.element.firstChild) {\n      this.element.removeChild(this.element.firstChild);\n    }\n\n    const logoContainer = createElement('div', { className: 'mb-8' });\n    const logoButton = createButton(\n      `<svg class=\"w-8 h-8\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\n      </svg>\n      <span class=\"text-sm\">Home</span>`,\n      'text-white font-semibold text-lg flex flex-col items-center gap-2 hover:text-orange-300 transition-colors w-full p-4',\n      () => router.navigate('/')\n    );\n    logoButton.style.color = '#E67923';\n    \n    logoContainer.appendChild(logoButton);\n    this.element.appendChild(logoContainer);\n\n    const mainContainer = createElement('div', { className: 'flex-1 flex flex-col justify-center' });\n    \n    if (user) {\n      mainContainer.appendChild(this.createAuthenticatedButtons(user));\n    }\n    \n    this.element.appendChild(mainContainer);\n  }\n\n  private createAuthenticatedButtons(user: any): HTMLElement {\n    const container = createElement('div', { className: 'flex flex-col gap-4 w-full' });\n\n    const greeting = createElement('div', {\n      className: 'text-white text-center text-sm mb-4 px-2',\n      innerHTML: `Ciao, ${user.username}!`\n    });\n\n    const profileButton = createButton(\n      'Profilo',\n      'text-white px-3 py-2 rounded transition-all focus:outline-none w-full text-center',\n      () => this.profileModal.show()\n    );\n    profileButton.style.backgroundColor = '#E67923';\n    profileButton.addEventListener('mouseenter', () => {\n      profileButton.style.backgroundColor = '#D16A1E';\n    });\n    profileButton.addEventListener('mouseleave', () => {\n      profileButton.style.backgroundColor = '#E67923';\n    });\n\n    const playButton = createButton(\n      'Play',\n      'text-white px-3 py-2 rounded-md transition-all w-full text-center bg-orange-500 hover:bg-orange-600 focus:outline-none',\n      () => router.navigate('/play')\n    );\n\n    const socialButton = createButton(\n      'Social',\n      'text-white px-3 py-2 rounded-md transition-all w-full text-center bg-orange-500 hover:bg-orange-600 focus:outline-none',\n      () => this.socialModal.show()\n    );\n\n    const logoutButton = createButton(\n      'Logout',\n      'text-white px-3 py-2 rounded transition-all focus:outline-none w-full text-center',\n      () => {\n        authState.logout();\n        router.navigate('/');\n      }\n    );\n    logoutButton.style.backgroundColor = '#6B7280';\n    logoutButton.addEventListener('mouseenter', () => {\n      logoutButton.style.backgroundColor = '#4B5563';\n    });\n    logoutButton.addEventListener('mouseleave', () => {\n      logoutButton.style.backgroundColor = '#6B7280';\n    });\n\n    container.appendChild(greeting);\n    container.appendChild(profileButton);\n    container.appendChild(playButton);\n    container.appendChild(socialButton);\n    container.appendChild(logoutButton);\n\n    return container;\n  }\n\n  getElement(): HTMLElement {\n    return this.element;\n  }\n\n  destroy(): void {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n    }\n    this.profileModal.destroy();\n    this.socialModal.destroy();\n  }\n}\n","import { authState } from '../state/auth.js';\n\ndeclare global {\n  interface Window {\n    google: {\n      accounts: {\n        id: {\n          initialize: (config: any) => void;\n          renderButton: (element: HTMLElement, config: any) => void;\n          prompt: () => void;\n        };\n      };\n    };\n    googleAuthCallback: (response: any) => void;\n  }\n}\n\nconst GOOGLE_CLIENT_ID = '575747097249-3bu3g738p6s49pisr9ael83r4p5p1urv.apps.googleusercontent.com';\n\nexport class GoogleAuthService {\n  private isInitialized = false;\n\n  async initialize(): Promise<void> {\n    if (this.isInitialized) {\n      return;\n    }\n\n    return new Promise((resolve, reject) => {\n      // Imposta il callback globale\n      window.googleAuthCallback = this.handleCredentialResponse.bind(this);\n\n      // Carica Google Identity Services se non √® gi√† caricato\n      if (!window.google) {\n        const script = document.createElement('script');\n        script.src = 'https://accounts.google.com/gsi/client';\n        script.onload = () => {\n          this.initializeGoogleAuth();\n          this.isInitialized = true;\n          resolve();\n        };\n        script.onerror = () => reject(new Error('Failed to load Google Identity Services'));\n        document.head.appendChild(script);\n      } else {\n        this.initializeGoogleAuth();\n        this.isInitialized = true;\n        resolve();\n      }\n    });\n  }\n\n  private initializeGoogleAuth(): void {\n    window.google.accounts.id.initialize({\n      client_id: GOOGLE_CLIENT_ID,\n      callback: window.googleAuthCallback\n    });\n  }\n\n  private async handleCredentialResponse(response: any): Promise<void> {\n    try {\n      await authState.googleAuth(response.credential);\n    } catch (error) {\n      console.error('Google auth error:', error);\n    }\n  }\n\n  renderButton(element: HTMLElement): void {\n    if (!this.isInitialized) {\n      console.error('Google Auth not initialized');\n      return;\n    }\n\n    window.google.accounts.id.renderButton(element, {\n      theme: 'outline',\n      size: 'large',\n      width: '100%',\n      text: 'continue_with'\n    });\n  }\n}\n\nexport const googleAuthService = new GoogleAuthService();\n","import { createElement, createButton, createInput } from '../utils/dom.js';\nimport { authState } from '../state/auth.js';\nimport { googleAuthService } from '../services/googleAuth.js';\n\nconst COLORS = {\n  primary: '#E67923',\n  error: '#DC2626',\n  errorHover: '#D32F2F',\n  dark: '#2A2A2A',\n  darkText: '#3C3C3C',\n  loginButton: '#B20000',\n  loginButtonHover: '#D32F2F',\n  inputBg: '#f9fafb',\n  white: '#ffffff',\n  lightGray: '#f5f5f5'\n} as const;\n\nconst EMAIL_REGEX = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\ntype TabType = 'login' | 'register';\n\nexport class AuthModal {\n  private isVisible: boolean = false;\n  private modalElement?: HTMLElement;\n  private activeTab: TabType = 'login';\n  private formData = {\n    email: '',\n    username: '',\n    password: '',\n    confirmPassword: ''\n  };\n  private errors: { [key: string]: string } = {};\n  private showCloseButton: boolean = true;\n  private unsubscribe?: () => void;\n\n  constructor(showCloseButton: boolean = true) {\n    this.showCloseButton = showCloseButton;\n    this.bindAuthState();\n    this.initializeGoogleAuth();\n  }\n\n  private async initializeGoogleAuth(): Promise<void> {\n    try {\n      await googleAuthService.initialize();\n    } catch (error) {\n      console.error('Failed to initialize Google Auth:', error);\n    }\n  }\n\n  private bindAuthState(): void {\n    this.unsubscribe = authState.subscribe(() => {\n      this.updateErrorDisplay();\n    });\n  }\n\n  show(): void {\n    if (this.isVisible) return;\n    \n    this.isVisible = true;\n    this.modalElement = this.createModal();\n    document.body.appendChild(this.modalElement);\n  }\n\n  hide(): void {\n    if (!this.isVisible || !this.modalElement) return;\n    \n    this.isVisible = false;\n    document.body.removeChild(this.modalElement);\n    this.modalElement = undefined;\n    this.resetForm();\n  }\n\n  private createModal(): HTMLElement {\n    const overlay = createElement('div', {\n      className: 'fixed inset-0 flex items-center justify-center z-50'\n    });\n\n    if (this.showCloseButton) {\n      overlay.addEventListener('click', (e) => {\n        if (e.target === overlay) {\n          this.hide();\n        }\n      });\n    }\n\n    const modal = createElement('div', {\n      className: 'bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 h-[500px] overflow-hidden flex flex-col',\n      style: `background-color: ${COLORS.dark};`\n    });\n\n    modal.addEventListener('click', (e) => e.stopPropagation());\n\n    // L'header con il bottoncino per chiudere tutto\n    if (this.showCloseButton) {\n      const header = createElement('div', {\n        className: 'relative px-6 pt-4 pb-4'\n      });\n\n      const closeButton = createButton(\n        '√ó',\n        'absolute top-4 right-4 hover:opacity-70 transition-opacity focus:outline-none text-2xl',\n        () => this.hide()\n      );\n      closeButton.style.color = COLORS.primary;\n\n      header.appendChild(closeButton);\n      modal.appendChild(header);\n    }\n\n    // Le tab per passare da login a registrazione\n    const tabsContainer = this.createTabs();\n    modal.appendChild(tabsContainer);\n\n    // Tutto il contenuto del form\n    const formContainer = createElement('div', {\n      className: 'flex-1 flex flex-col'\n    });\n\n    const form = this.createForm();\n    formContainer.appendChild(form);\n    modal.appendChild(formContainer);\n\n    overlay.appendChild(modal);\n    return overlay;\n  }\n\n  private createTabs(): HTMLElement {\n    const container = createElement('div', {\n      className: 'px-6 mt-4'\n    });\n\n    const tabs = [\n      { id: 'login' as const, label: 'Log In' },\n      { id: 'register' as const, label: 'Sign Up' }\n    ];\n\n    tabs.forEach(tab => {\n      const button = createButton(\n        tab.label,\n        'pb-3 px-1 text-lg font-semibold border-b-2 transition-all mr-8 focus:outline-none hover:opacity-70',\n        () => this.switchTab(tab.id)\n      );\n\n      button.style.color = this.activeTab === tab.id ? COLORS.primary : COLORS.darkText;\n      button.style.borderBottomColor = this.activeTab === tab.id ? COLORS.primary : 'transparent';\n\n      container.appendChild(button);\n    });\n\n    return container;\n  }\n\n  private createForm(): HTMLElement {\n    const form = createElement('form', {\n      className: 'flex flex-col gap-5 pt-4 px-8 pb-6 flex-1 min-h-[300px] items-center'\n    });\n\n    form.addEventListener('submit', (e) => this.handleSubmit(e));\n\n    // I messaggi di errore o successo (quando qualcosa va storto o bene)\n    const messageContainer = createElement('div', {\n      className: 'w-full max-w-sm mb-4'\n    });\n    this.updateMessageContainer(messageContainer);\n\n    // Tutti i campi del form (email, password, etc.)\n    const fieldsContainer = createElement('div', {\n      className: 'flex flex-col gap-6 flex-grow w-full max-w-sm'\n    });\n\n    // Il campo email (fondamentale per entrare)\n    fieldsContainer.appendChild(this.createField('email', 'Email Address', 'email', 'Enter your email address...'));\n\n    // Il campo username (solo quando ti registri)\n    if (this.activeTab === 'register') {\n      fieldsContainer.appendChild(this.createField('username', 'Username', 'text', 'Enter your username...'));\n    }\n\n    // Il campo password (segreto!)\n    fieldsContainer.appendChild(this.createField('password', 'Password', 'password', \n      this.activeTab === 'login' ? 'Enter your password...' : 'Create a password...'));\n\n    // Conferma password (solo in registrazione per non sbagliare)\n    if (this.activeTab === 'register') {\n      fieldsContainer.appendChild(this.createField('confirmPassword', 'Confirm Password', 'password', 'Confirm your password...'));\n    }\n\n    // Un po' di spazio per far respirare il form del login\n    if (this.activeTab === 'login') {\n      fieldsContainer.appendChild(createElement('div', { className: 'h-16' }));\n    }\n\n    // La linea divisoria con \"or\" nel mezzo\n    const divider = this.createDivider();\n\n    // I bottoni per inviare il form e quello di Google\n    const buttonsContainer = this.createButtons();\n\n    form.appendChild(messageContainer);\n    form.appendChild(fieldsContainer);\n    form.appendChild(divider);\n    form.appendChild(buttonsContainer);\n\n    return form;\n  }\n\n  private createField(fieldName: string, label: string, type: string, placeholder: string): HTMLElement {\n    const container = createElement('div', {\n      className: 'flex flex-col items-center'\n    });\n\n    const labelEl = createElement('label', {\n      className: 'block text-sm font-medium text-white text-center mb-2 w-full',\n      innerHTML: label\n    });\n\n    const input = createInput(type, placeholder, \n      `w-4/5 px-4 py-3 border rounded-lg outline-none transition-all text-center text-black placeholder-gray-500 ${\n        this.errors[fieldName] ? 'border-red-500' : 'border-gray-700'\n      } bg-gray-100`\n    );\n\n    input.value = this.formData[fieldName as keyof typeof this.formData];\n    input.addEventListener('input', (e) => this.handleInputChange(fieldName, (e.target as HTMLInputElement).value));\n\n    const errorEl = createElement('p', {\n      className: 'text-red-500 text-sm mt-1 text-center',\n      innerHTML: this.errors[fieldName] || ''\n    });\n\n    container.appendChild(labelEl);\n    container.appendChild(input);\n    if (this.errors[fieldName]) {\n      container.appendChild(errorEl);\n    }\n\n    return container;\n  }\n\n  private createDivider(): HTMLElement {\n    const container = createElement('div', {\n      className: 'relative my-6 w-full max-w-sm'\n    });\n\n    const line = createElement('div', {\n      className: 'absolute inset-0 flex items-center'\n    });\n\n    const lineDiv = createElement('div', {\n      className: 'w-full border-t',\n      style: `border-color: ${COLORS.darkText};`\n    });\n\n    const textContainer = createElement('div', {\n      className: 'relative flex justify-center text-sm'\n    });\n\n    const text = createElement('span', {\n      className: 'px-4 text-white',\n      innerHTML: 'or',\n      style: `background-color: ${COLORS.dark};`\n    });\n\n    line.appendChild(lineDiv);\n    textContainer.appendChild(text);\n    container.appendChild(line);\n    container.appendChild(textContainer);\n\n    return container;\n  }\n\n  private createButtons(): HTMLElement {\n    const container = createElement('div', {\n      className: 'mt-auto w-full max-w-sm'\n    });\n\n    const buttonsRow = createElement('div', {\n      className: 'flex gap-3 mb-4 h-12'\n    });\n\n    // Il bottone principale per inviare tutto\n    const { isLoading } = authState.getState();\n    const submitButton = createButton(\n      isLoading ? 'Loading...' : (this.activeTab === 'login' ? 'Log in' : 'Create Account'),\n      'flex-1 text-white py-3 px-4 rounded-lg font-semibold transition-all flex items-center justify-center focus:outline-none disabled:opacity-50',\n      () => this.handleFormSubmit()\n    );\n    submitButton.style.backgroundColor = COLORS.loginButton;\n    submitButton.disabled = isLoading;\n\n    submitButton.addEventListener('mouseenter', () => {\n      if (!isLoading) {\n        submitButton.style.backgroundColor = COLORS.loginButtonHover;\n      }\n    });\n    submitButton.addEventListener('mouseleave', () => {\n      if (!isLoading) {\n        submitButton.style.backgroundColor = COLORS.loginButton;\n      }\n    });\n\n    // Il bottone di Google (per chi preferisce la strada facile)\n    const googleButton = this.createGoogleButton();\n\n    buttonsRow.appendChild(submitButton);\n    buttonsRow.appendChild(googleButton);\n    container.appendChild(buttonsRow);\n\n    return container;\n  }\n\n  private createGoogleButton(): HTMLElement {\n    const container = createElement('div', {\n      className: 'w-full'\n    });\n\n    // Crea un div per il bottone Google che verr√† popolato da Google Identity Services\n    const googleButtonDiv = createElement('div', {\n      className: 'w-full',\n      id: 'google-signin-button'\n    });\n\n    container.appendChild(googleButtonDiv);\n\n    // Inizializza il bottone Google\n    setTimeout(() => {\n      try {\n        googleAuthService.renderButton(googleButtonDiv);\n      } catch (error) {\n        console.error('Error rendering Google button:', error);\n        // Fallback: crea un bottone manuale\n        this.createFallbackGoogleButton(googleButtonDiv);\n      }\n    }, 100);\n\n    return container;\n  }\n\n  private createFallbackGoogleButton(container: HTMLElement): void {\n    container.innerHTML = '';\n    const fallbackButton = createButton(\n      `<svg class=\"w-5 h-5 mr-3\" viewBox=\"0 0 24 24\">\n        <path fill=\"#4285f4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n        <path fill=\"#34a853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n        <path fill=\"#fbbc05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n        <path fill=\"#ea4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n      </svg>\n      Continue with Google`,\n      'flex items-center justify-center px-4 py-3 border rounded-lg font-semibold cursor-pointer h-12 whitespace-nowrap transition-all focus:outline-none text-black w-full'\n    );\n\n    fallbackButton.style.backgroundColor = COLORS.white;\n    fallbackButton.style.borderColor = COLORS.darkText;\n    fallbackButton.style.color = '#000000';\n\n    fallbackButton.addEventListener('mouseenter', () => {\n      fallbackButton.style.backgroundColor = COLORS.lightGray;\n    });\n    fallbackButton.addEventListener('mouseleave', () => {\n      fallbackButton.style.backgroundColor = COLORS.white;\n    });\n\n    container.appendChild(fallbackButton);\n  }\n\n  private handleInputChange(field: string, value: string): void {\n    this.formData[field as keyof typeof this.formData] = value;\n    \n    // Rimuovi l'errore dal campo se c'era\n    if (this.errors[field]) {\n      delete this.errors[field];\n    }\n\n    // Pulisci anche gli errori di autenticazione\n    authState.clearError();\n    authState.clearSuccessMessage();\n  }\n\n  private switchTab(tab: TabType): void {\n    this.activeTab = tab;\n    this.resetForm();\n    this.refreshModal();\n  }\n\n  private resetForm(): void {\n    this.formData = {\n      email: '',\n      username: '',\n      password: '',\n      confirmPassword: ''\n    };\n    this.errors = {};\n  }\n\n  private refreshModal(): void {\n    if (this.modalElement && this.modalElement.parentNode) {\n      const newModal = this.createModal();\n      this.modalElement.parentNode.replaceChild(newModal, this.modalElement);\n      this.modalElement = newModal;\n    }\n  }\n\n  private updateMessageContainer(container: HTMLElement): void {\n    const { error, successMessage } = authState.getState();\n    \n    container.innerHTML = '';\n    \n    if (error) {\n      const errorEl = createElement('p', {\n        className: 'text-red-500 text-sm text-center bg-red-100 p-2 rounded',\n        innerHTML: error\n      });\n      container.appendChild(errorEl);\n    }\n    \n    if (successMessage) {\n      const successEl = createElement('p', {\n        className: 'text-green-500 text-sm text-center bg-green-100 p-2 rounded',\n        innerHTML: successMessage\n      });\n      container.appendChild(successEl);\n    }\n  }\n\n  private updateErrorDisplay(): void {\n    // Questa funzione viene chiamata quando cambia lo stato di autenticazione\n    if (this.modalElement) {\n      const messageContainer = this.modalElement.querySelector('.w-full.max-w-sm.mb-4') as HTMLElement;\n      if (messageContainer) {\n        this.updateMessageContainer(messageContainer);\n      }\n    }\n  }\n\n  private validateForm(): boolean {\n    const newErrors: { [key: string]: string } = {};\n\n    if (!EMAIL_REGEX.test(this.formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    if (this.activeTab === 'register' && !this.formData.username.trim()) {\n      newErrors.username = 'Username is required';\n    }\n\n    if (this.formData.password.length < 6) {\n      newErrors.password = 'Password must be at least 6 characters';\n    }\n\n    if (this.activeTab === 'register' && this.formData.password !== this.formData.confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match';\n    }\n\n    this.errors = newErrors;\n    return Object.keys(newErrors).length === 0;\n  }\n\n  private handleSubmit(e: Event): void {\n    e.preventDefault();\n    this.handleFormSubmit();\n  }\n\n  private async handleFormSubmit(): Promise<void> {\n    if (!this.validateForm()) {\n      this.refreshModal();\n      return;\n    }\n\n    try {\n      if (this.activeTab === 'login') {\n        await authState.login(this.formData.email, this.formData.password);\n      } else {\n        await authState.register(this.formData.email, this.formData.username, this.formData.password);\n      }\n      \n      // Successo - chiudi il modal\n      this.hide();\n    } catch (err) {\n      // Gli errori vengono gestiti nello stato di autenticazione\n      console.error('Auth error:', err);\n    }\n  }\n\n  destroy(): void {\n    this.hide();\n    if (this.unsubscribe) {\n      this.unsubscribe();\n    }\n  }\n}\n","import { authState } from '../state/auth.js';\nimport { AuthModal } from './AuthModal.js';\nimport { renderTo } from '../utils/dom.js';\n\nexport class AuthGuard {\n  private authModal: AuthModal;\n  private currentContent?: HTMLElement;\n  private container: HTMLElement;\n  private unsubscribe?: () => void;\n\n  constructor(container: HTMLElement) {\n    this.container = container;\n    this.authModal = new AuthModal(false);\n    this.bindAuthState();\n    this.checkAuthState();\n  }\n\n  private bindAuthState(): void {\n    this.unsubscribe = authState.subscribe(() => {\n      this.checkAuthState();\n    });\n  }\n\n  private checkAuthState(): void {\n    const { isAuthenticated, isLoading } = authState.getState();\n    \n    if (isLoading) {\n      this.showLoading();\n    } else if (!isAuthenticated) {\n      this.authModal.show();\n    } else {\n      this.authModal.hide();\n    }\n  }\n\n  private showLoading(): void {\n  }\n\n  setContent(content: HTMLElement): void {\n    const { isAuthenticated } = authState.getState();\n    \n    if (isAuthenticated) {\n      this.currentContent = content;\n      renderTo(content, this.container);\n    }\n  }\n\n  destroy(): void {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n    }\n    this.authModal.destroy();\n  }\n}\n","import { createElement } from '../utils/dom.js';\n\nexport class HomePage {\n  private element: HTMLElement;\n\n  constructor() {\n    this.element = this.createPage();\n  }\n\n  private createPage(): HTMLElement {\n    const container = createElement('div', {\n      className: 'p-6'\n    });\n\n    const title = createElement('h1', {\n      className: 'text-3xl font-bold text-gray-800 mb-6',\n      innerHTML: 'Benvenuto a ft_transcendence'\n    });\n\n    const mainCard = createElement('div', {\n      className: 'bg-white rounded-lg shadow-md p-8'\n    });\n\n    const description = createElement('p', {\n      className: 'text-gray-600 text-lg mb-8',\n      innerHTML: 'Il classico gioco Pong reimplementato con tecnologie moderne. Sfida i tuoi amici o gioca contro l\\'IA!'\n    });\n\n    const gameModesGrid = createElement('div', {\n      className: 'grid grid-cols-1 md:grid-cols-2 gap-6'\n    });\n\n    const gameModes = [\n      { \n        title: 'Gioco Locale', \n        description: 'Due giocatori sullo stesso computer',\n        bgClass: 'bg-blue-50', \n        textClass: 'text-blue-800',\n        icon: 'üéÆ'\n      },\n      { \n        title: 'Gioco Online', \n        description: 'Sfida giocatori da tutto il mondo',\n        bgClass: 'bg-green-50', \n        textClass: 'text-green-800',\n        icon: 'üåê'\n      },\n      { \n        title: 'VS Intelligenza Artificiale', \n        description: 'Metti alla prova le tue abilit√† contro l\\'IA',\n        bgClass: 'bg-purple-50', \n        textClass: 'text-purple-800',\n        icon: 'ü§ñ'\n      },\n      { \n        title: 'Torneo', \n        description: 'Partecipa a tornei competitivi',\n        bgClass: 'bg-orange-50', \n        textClass: 'text-orange-800',\n        icon: 'üèÜ'\n      }\n    ];\n\n    gameModes.forEach(mode => {\n      const modeCard = createElement('div', {\n        className: `${mode.bgClass} p-6 rounded-lg border border-gray-200 hover:shadow-md transition-shadow cursor-pointer`\n      });\n\n      const modeIcon = createElement('div', {\n        className: 'text-3xl mb-3',\n        innerHTML: mode.icon\n      });\n\n      const modeTitle = createElement('h3', {\n        className: `font-semibold ${mode.textClass} mb-2`,\n        innerHTML: mode.title\n      });\n\n      const modeDescription = createElement('p', {\n        className: 'text-gray-600 text-sm',\n        innerHTML: mode.description\n      });\n\n      modeCard.appendChild(modeIcon);\n      modeCard.appendChild(modeTitle);\n      modeCard.appendChild(modeDescription);\n      gameModesGrid.appendChild(modeCard);\n    });\n\n    mainCard.appendChild(description);\n    mainCard.appendChild(gameModesGrid);\n    container.appendChild(title);\n    container.appendChild(mainCard);\n\n    return container;\n  }\n\n  getElement(): HTMLElement {\n    return this.element;\n  }\n\n  destroy(): void {\n  }\n}\n","import { createElement } from '../utils/dom.js';\n\nexport class PlayPage {\n  private element: HTMLElement;\n\n  constructor() {\n    this.element = this.createPage();\n  }\n\n  private createPage(): HTMLElement {\n    const container = createElement('div', {\n      className: 'h-full flex flex-col'\n    });\n\n    const title = createElement('h1', {\n      className: 'text-3xl font-bold text-gray-800 p-4 bg-white shadow-sm',\n      innerHTML: 'Gioca - Pong Game'\n    });\n\n    // Main content area with game\n    const mainContent = createElement('div', {\n      className: 'flex-1 flex min-h-0'\n    });\n\n    // Left side - Game instructions/controls\n    const leftPanel = createElement('div', {\n      className: 'w-1/3 bg-gray-50 p-4 border-r-4 border-blue-500 overflow-y-auto'\n    });\n\n    const instructionsTitle = createElement('h2', {\n      className: 'text-xl font-semibold text-gray-800 mb-4',\n      innerHTML: 'Controlli di Gioco'\n    });\n\n    const instructionsList = createElement('div', {\n      className: 'space-y-3 text-gray-700'\n    });\n\n    const controls = [\n      'W / S - Giocatore 1 (sinistra)',\n      'Frecce Su/Gi√π - Giocatore 2 (destra)', \n      'Spacebar - Pausa/Resume',\n      'ESC - Menu principale'\n    ];\n\n    controls.forEach(control => {\n      const controlItem = createElement('div', {\n        className: 'bg-white p-3 rounded-lg border border-gray-200',\n        innerHTML: `<code class=\"text-blue-600 font-mono\">${control}</code>`\n      });\n      instructionsList.appendChild(controlItem);\n    });\n\n    const gameInfo = createElement('div', {\n      className: 'mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg',\n      innerHTML: `\n        <h3 class=\"font-semibold text-blue-800 mb-2\">Modalit√† di Gioco</h3>\n        <ul class=\"text-sm text-blue-700 space-y-1\">\n          <li>‚Ä¢ <strong>Local:</strong> Due giocatori sullo stesso computer</li>\n          <li>‚Ä¢ <strong>Remote:</strong> Gioco online</li>\n          <li>‚Ä¢ <strong>VS Bot:</strong> Contro l'intelligenza artificiale</li>\n          <li>‚Ä¢ <strong>Tournament:</strong> Torneo con pi√π giocatori</li>\n        </ul>\n      `\n    });\n\n    leftPanel.appendChild(instructionsTitle);\n    leftPanel.appendChild(instructionsList);\n    leftPanel.appendChild(gameInfo);\n\n    // Right side - Game iframe\n    const rightPanel = createElement('div', {\n      className: 'w-2/3 bg-white relative min-h-0'\n    });\n\n    // Game iframe\n    const gameFrame = createElement('iframe', {\n      src: 'https://localhost/game/',\n      className: 'w-full h-full border-0',\n      style: 'min-height: 500px;'\n    }) as HTMLIFrameElement;\n\n    // Loading overlay\n    const loadingOverlay = createElement('div', {\n      className: 'absolute inset-0 bg-gray-100 flex items-center justify-center',\n      innerHTML: `\n        <div class=\"text-center\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n          <p class=\"text-gray-600\">Caricamento gioco...</p>\n        </div>\n      `\n    });\n\n    // Hide loading overlay when iframe loads\n    gameFrame.onload = () => {\n      loadingOverlay.style.display = 'none';\n    };\n\n    rightPanel.appendChild(loadingOverlay);\n    rightPanel.appendChild(gameFrame);\n\n    mainContent.appendChild(leftPanel);\n    mainContent.appendChild(rightPanel);\n\n    container.appendChild(title);\n    container.appendChild(mainContent);\n\n    return container;\n  }\n\n  getElement(): HTMLElement {\n    return this.element;\n  }\n\n  destroy(): void {\n  }\n}\n","import { createElement, renderTo } from './utils/dom.js';\nimport { router } from './router/router.js';\nimport { authState } from './state/auth.js';\nimport { Navbar } from './components/Navbar.js';\nimport { AuthGuard } from './components/AuthGuard.js';\nimport { HomePage } from './pages/HomePage.js';\nimport { PlayPage } from './pages/PlayPage.js';\n\nexport class App {\n  private navbar: Navbar;\n  private authGuard: AuthGuard;\n  private mainContent: HTMLElement;\n  private layout: HTMLElement;\n  private currentPage?: { destroy(): void };\n  private unsubscribe?: () => void;\n\n  constructor() {\n    this.navbar = new Navbar();\n    const { layout, mainContent } = this.initializeDOM();\n    this.layout = layout;\n    this.mainContent = mainContent;\n    this.authGuard = new AuthGuard(this.mainContent);\n    this.setupRoutes();\n    this.bindAuthState();\n    \n    router.start();\n  }\n\n  private initializeDOM(): { layout: HTMLElement; mainContent: HTMLElement } {\n    const app = document.getElementById('app');\n    if (!app) {\n      throw new Error('App element not found');\n    }\n\n    // Layout principale con flexbox orizzontale\n    const layout = createElement('div', {\n      className: 'min-h-screen bg-gray-100 flex'\n    });\n\n    // Container per il contenuto principale (senza margin-left)\n    const mainContent = createElement('div', {\n      className: 'flex-1 p-8 min-h-screen'\n    });\n\n    // Aggiungiamo la navbar e il contenuto principale al layout\n    layout.appendChild(this.navbar.getElement());\n    layout.appendChild(mainContent);\n    \n    renderTo(layout, app);\n\n    return { layout, mainContent };\n  }\n\n  private setupRoutes(): void {\n    router.addRoute('/', () => this.renderPage(new HomePage()));\n    router.addRoute('/play', () => this.renderPage(new PlayPage()));\n  }\n\n  private bindAuthState(): void {\n    this.unsubscribe = authState.subscribe(() => {\n      const { isAuthenticated } = authState.getState();\n      \n      if (isAuthenticated) {\n        this.mainContent.style.display = 'block';\n        this.navbar.getElement().style.display = 'flex';\n      } else {\n        this.mainContent.style.display = 'none';\n        this.navbar.getElement().style.display = 'none';\n      }\n    });\n  }\n\n  private renderPage(page: { getElement(): HTMLElement; destroy(): void }): void {\n    const { isAuthenticated } = authState.getState();\n    \n    if (this.currentPage) {\n      this.currentPage.destroy();\n    }\n\n    this.currentPage = page;\n\n    if (isAuthenticated) {\n      this.authGuard.setContent(page.getElement());\n    }\n  }\n\n  destroy(): void {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n    }\n    \n    this.navbar.destroy();\n    this.authGuard.destroy();\n    \n    if (this.currentPage) {\n      this.currentPage.destroy();\n    }\n  }\n}\n","import './styles.css';\nimport { App } from './App';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new App();\n});\n"],"names":["createElement","tag","attributes","children","element","key","value","child","createButton","text","className","onClick","button","createInput","type","placeholder","clearElement","renderTo","container","Router","path","handler","requiresAuth","route","r","router","API_BASE_URL","ApiService","token","credentials","response","data","userData","credential","url","options","headers","apiService","AuthState","userString","user","error","listener","email","password","err","errorMessage","username","authState","ImageUploadService","file","formData","resolve","reject","reader","e","_a","ProfileImageUpload","currentImageUrl","onImageUploaded","defaultIcon","hoverOverlay","validationError","previewUrl","fileToUpload","imageUrl","currentUser","updatedUser","isPreview","overlay","COLORS","ProfileModal","stats","playerStats","modal","closeButton","title","content","userTable","table","tbody","tr","avatarTd","profileImageUpload","infoTd","infoDiv","mailDiv","walletDiv","walletContainer","walletLabel","walletButton","statsTopGrid","topStatsGrid","rankDiv","winRateDiv","winRate","tournamentsDiv","mainStatsGrid","goalsScoredDiv","avgGoalsScored","goalsReceivedDiv","goalsReceived","avgGoalsReceived","totalMatchesDiv","tournamentsWonDiv","matchResultsSection","matchResultsTitle","matchResultsContent","winsRow","winsRate","lossesRow","lossRate","goalAnalysisSection","goalAnalysisTitle","progressBarContainer","totalGoals","progressWidth","progressBar","goalStatsContainer","goalsScoredStats","goalsReceivedStats","SocialModal","mainContent","leftTd","leftContent","friendsTitle","friendsListContainer","friend","friendItem","_b","addFriendButton","friendIdInput","rightTd","rightContent","chatContainer","chatHeader","chatTitle","statusDot","messagesContainer","friendMessages","currentUsername","message","messageDiv","messageBubble","inputContainer","messageInput","sendButton","placeholderText","Navbar","nav","logoContainer","logoButton","mainContainer","greeting","profileButton","playButton","socialButton","logoutButton","GOOGLE_CLIENT_ID","GoogleAuthService","script","googleAuthService","EMAIL_REGEX","AuthModal","showCloseButton","header","tabsContainer","formContainer","form","tab","messageContainer","fieldsContainer","divider","buttonsContainer","fieldName","label","labelEl","input","errorEl","line","lineDiv","textContainer","buttonsRow","isLoading","submitButton","googleButton","googleButtonDiv","fallbackButton","field","newModal","successMessage","successEl","newErrors","AuthGuard","isAuthenticated","HomePage","mainCard","description","gameModesGrid","mode","modeCard","modeIcon","modeTitle","modeDescription","PlayPage","leftPanel","instructionsTitle","instructionsList","control","controlItem","gameInfo","rightPanel","gameFrame","loadingOverlay","App","layout","app","page"],"mappings":"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"}